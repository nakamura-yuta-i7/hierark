webpackJsonp([0,1],[
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	"use strict";
	
	void (function loadLayoutStyle() {
		__webpack_require__(1);
	})();
	
	void (function setGlobalVariables(globals) {
		globals.app = {};
		globals.ajax = __webpack_require__(5);
	})(window);
	
	void (function start() {
		__webpack_require__(6);
		__webpack_require__(7);
		__webpack_require__(8);
		__webpack_require__(11);
		__webpack_require__(12);
		__webpack_require__(13);
	})();
	
	$(document).on("drop", function (e) {
		if (e.preventDefault) {
			e.preventDefault();
		}
		console.log("drop");
	});
	
	$(document).on("dragover", function (e) {
		if (e.preventDefault) {
			e.preventDefault();
		}
		console.log("dragover");
	});

/***/ },
/* 1 */
/***/ function(module, exports) {

	// removed by extract-text-webpack-plugin

/***/ },
/* 2 */,
/* 3 */,
/* 4 */,
/* 5 */
/***/ function(module, exports) {

	"use strict";
	
	module.exports = new JqueryAjax();
	function JqueryAjax() {
		if (this instanceof Window) {
			// throw Error("こらー！newして使ってくださいね");
			return new JqueryAjax();
		}
		var self = this;
		self.get = function (params) {
			return $.ajax({
				async: true,
				cache: false,
				type: "GET",
				dataType: params.dataType || "json",
				url: params.url || "/",
				data: params.data || {},
				context: params.context || document,
				success: params.success || function (data) {
					console.debug(data);
				}
			});
		};
		self.post = function (params) {
			console.debug("ajax.post params:", params);
			var postData = params.data;
	
			var ajaxParams = {
				async: true,
				cache: false,
				type: "post",
				dataType: params.dataType || "json",
				url: params.url || "/",
				data: postData,
				context: params.context || document,
				success: params.success || function (data) {
					console.debug(data);
				},
				xhr: params.xhr || function () {
					var XHR = $.ajaxSettings.xhr();
					if (XHR.upload) {
						XHR.upload.addEventListener('progress', function (e) {
							var progre = parseInt(e.loaded / e.total * 10000) / 100;
							console.debug(progre + "%");
							$("#progress-bar").width(progre + "%");
						}, false);
					}
					return XHR;
				}
			};
	
			// FILEアップロードする場合
			if (params.file || params.files) {
	
				var formData = new FormData();
				if (params.data) {
					Object.keys(params.data).forEach(function (key) {
						formData.append(key, params.data[key]);
					});
				}
				if (params.file) {
					formData.append("file", params.file);
				}
				if (params.files) {
					Object.keys(params.files).forEach(function (key) {
						var file = params.files[key];
						formData.append("files[]", file);
					});
				}
	
				ajaxParams.data = formData;
				ajaxParams.contentType = false; // FormData使う場合、必須
				ajaxParams.processData = false; // FormData使う場合、必須
			}
			var ajax = $.ajax(ajaxParams);
			return ajax;
		};
		self.uploadSingle = function (file, params) {
			params.file = file;
			return self.post(params);
		};
		self.uploadMulti = function (files, params) {
			params.files = files;
			return self.post(params);
		};
	}

/***/ },
/* 6 */
/***/ function(module, exports) {

	"use strict";
	
	app.util = {};
	app.util.objectToHtml = function (obj) {
		var html = "";
		Object.keys(obj).forEach(function (key) {
			html += key + ": " + obj[key] + "<br>";
		});
		return html;
	};
	app.util.autoLink = function (str) {
		if (!str) return str;
		return str.replace(/((http|https|ftp):\/\/[\w?=&.\/-;#~%-]+(?![\w\s?&.\/;#~%"=-]*>))/g, '<a target="_blank" href="$1">$1</a> ');
	};

/***/ },
/* 7 */
/***/ function(module, exports) {

	"use strict";
	
	(function () {
		var itemsArea = document.querySelector(".items");
		var itemsMousetrap = new Mousetrap(itemsArea);
		var pressKey = null;
		// アイテムフォーカス移動系
		itemsMousetrap.bind('up', function (e) {
			pressKey = e.keyIdentifier;
			$(":focus").closest("li").prev().find("a").focus();
		});
		itemsMousetrap.bind('down', function (e) {
			pressKey = e.keyIdentifier;
			$(":focus").closest("li").next().find("a").focus();
		});
		itemsMousetrap.bind('right', function (e) {
			pressKey = e.keyIdentifier;
			$(":focus").closest("ul").next().find("li a").first().focus();
		});
		itemsMousetrap.bind('left', function (e) {
			pressKey = e.keyIdentifier;
			console.log("left e.keyIdentifier:", e.keyIdentifier);
	
			var item = $(":focus").closest("ul").prev().find("li[selected]");
			if (item.length) {
				// ルートアイテムじゃなければ
				item.find("a").focus();
				var url = item.find("a").attr("href");
				app.ItemDetail.loadContent(url);
			}
		});
		$(document).on("focus", ".items ul li a", function (e) {
			if (pressKey) {
				if (pressKey != "Left") {
					$(this).trigger("click");
				}
				pressKey = null;
			}
		});
		// アイテムフォーカス時DELキー
		itemsMousetrap.bind(['del', 'backspace'], function (e) {
			e.preventDefault();
			var id = $(e.target).attr("item_id");
			console.log(id);
			app.Item.delete(id);
		});
	})();
	
	Mousetrap.bind('tab', function (e) {
		e.preventDefault();
	
		if (app.ItemDetail.loadedItem) {
			// 詳細表示している場合
			var item_id = app.ItemDetail.loadedItem.id;
			$(".items ul .item[item_id=" + item_id + "] a").focus();
		} else {
			// アイテム初期表示状態でtab押した場合
			$(".items ul a").first().focus().trigger("click");
		}
	});

/***/ },
/* 8 */
/***/ function(module, exports, __webpack_require__) {

	"use strict";
	
	__webpack_require__(9);
	
	$(function () {
		var items = new app.Items();
		app.Items.setResizableAction();
		app.Items.setKeyPressAction();
	});
	
	void (function () {
		app.Items = Items;
		function Items() {
			var self = this;
			self.area = $(".items .inner");
			self.setContextMenuEvent();
	
			void (function setInitialState() {
				ajax.get({
					url: "/api/items",
					data: {
						parent_id: null
					},
					success: function success(data) {
						self.addRootItems(data);
					}
				});
			})();
		}
		Items.prototype.setContextMenuEvent = function () {
			// フォルダを右クリックした時
			$(document).on("contextmenu", ".items ul li.folder", function (e) {
				e.preventDefault();
				getSelection().removeAllRanges(); // 選択範囲をすべて解除
	
				var clickedItem = $(this);
				app.Item.add(clickedItem);
				return false;
			});
			// ULを右クリックした時
			$(document).on("contextmenu", ".items ul", function (e) {
				e.preventDefault();
				getSelection().removeAllRanges(); // 選択範囲をすべて解除
				var clickedItem = $(this).prev().find("li[selected]");
				app.Item.add(clickedItem);
			});
		};
		Items.prototype.addRootItems = function (items) {
			this.area.append(new app.ItemList(items));
		};
		Items.setResizableAction = function () {
			$(function () {
				$(".items .inner").resizable({
					handles: "s",
					stop: function stop(event, ui) {
						// リサイズ完了した時にクッキーに高さを保存
						var h = ui.size.height;
						$.cookie('.items-resized-height', h);
					},
					resize: function resize(event, ui) {
						var h = ui.size.height;
						$(".items").height(h);
					}
				});
				// クッキーに記憶した高さがあれば調整
				var savedHeight = $.cookie('.items-resized-height');
				if (savedHeight) {
					$(".items").height(savedHeight);
				}
			});
		};
		Items.setKeyPressAction = function () {};
	})();

/***/ },
/* 9 */
/***/ function(module, exports) {

	// removed by extract-text-webpack-plugin

/***/ },
/* 10 */,
/* 11 */
/***/ function(module, exports) {

	"use strict";
	
	void (function () {
		app.ItemList = ItemList;
		function ItemList(items) {
			return this.buildElement(items);
		}
		ItemList.prototype.buildElement = function (items) {
			var ul = $("<ul>");
			ul.attr("ul_id", $(".items ul").size());
			items.forEach(function (item) {
				var item = new app.Item(item);
				ul.append(item);
			});
			return ul;
		};
	})();

/***/ },
/* 12 */
/***/ function(module, exports) {

	"use strict";
	
	$(function () {
		app.Item.setClickEvent();
		app.Item.setRightClickEvent();
		app.Item.setDnDEvent();
	});
	void (function () {
		app.Item = Item;
		function Item(data) {
			var elem = this.buildElement(data);
			return elem;
		}
		Item.prototype.buildElement = function (data) {
			var name = data.name;
			var id = data.id;
			var type = data.type;
			var span = $("<span>");
			span.addClass("glyphicon").addClass("glyphicon-folder-close");
			var name_span = $("<span class=name>");
			name_span.text(name);
			span.append(name_span);
			var a = $("<a href=/api/item/" + id + " item_id=" + id + " draggable=false>");
			a.append(span);
			var li = $("<li item_id=" + id + " draggable=true>").addClass("item");
			if (type == "folder") {
				li.addClass("folder");
			}
			li.append(a);
			return li;
		};
		Item.add = function (parentItem) {
			var name = "";
			var parent_id = parentItem.attr("item_id");
			if (name = prompt("新規作成します", "新しいアイテム")) {
				ajax.post({
					url: "/api/item/add",
					data: {
						name: name,
						parent_id: parent_id
					},
					success: function success(new_item) {
						parentItem.find("a").trigger("click");
						console.log("ajax item/save data:", new_item);
					}
				});
			}
		};
	
		app.Item.setClickEvent = function () {
	
			$(document).on("click", ".item a", function (e) {
				e.preventDefault();
				var self = this;
				var clickedItem = $(self).closest("li");
				var clickedUl = $(self).closest("ul");
				var parentItemsArea = $(this).closest(".items");
	
				// コンテンツ読み込み
				var url = $(self).attr("href");
				app.ItemDetail.loadContent(url);
	
				// selectedアイテムにする
				// 他のアイテムはselectedを外す
				clickedUl.find(".item").removeAttr("selected");
				clickedItem.attr("selected", true);
	
				// アイテム背景色を調整
				void (function adjustBgColor() {
					$(this).closest("ul").find("a").css("background-color", "");
					$(this).css("background-color", "#cccccc");
				}).bind(this)();
	
				// 子アイテムを読み込み
				void (function loadChildItems() {
					if (!clickedItem.hasClass("folder")) {
						// クリックしたアイテムがフォルダじゃないなら何もしない
						return false;
					}
					ajax.get({
						url: "/api/items",
						data: {
							parent_id: $(self).attr("item_id")
						},
						success: function success(items) {
	
							// 自身のフォルダ配下のULを一度削除
							void (function destroyChildItem() {
								var selfUlId = clickedUl.attr("ul_id");
								var foundFlag = false;
								parentItemsArea.find("ul").each(function (i) {
									var eachUl = $(this);
									var eachUlId = eachUl.attr("ul_id");
									if (foundFlag) {
										eachUl.remove();
									}
									if (eachUlId == selfUlId) {
										foundFlag = true;
									}
								});
							})();
							// 読み込んだアイテムを追加
							$(".items .inner").append(new app.ItemList(items));
							// UL群の合計幅を.itemsにセット
							void (function setItemsWidth() {
								var width = 0;
								$(".items ul").each(function (ul) {
									width += $(this).outerWidth();
								});
								console.log("total width:", width);
								$(".items .inner").width(width + 20);
							})();
							// .itemsエリア内のスクロールを右に寄せる
							void (function () {
								$(".items").scrollLeft(999999);
							})();
						}
					});
				})();
			});
		};
	
		app.Item.setDnDEvent = function () {
			var drag_item_id = null;
			var drop_item_id = null;
	
			$(document).on("dragstart", ".items .item", function (e) {
				drag_item_id = $(this).attr("item_id");
				console.log("dragstart");
			});
			$(document).on("dragenter", ".items .item", function (e) {
				drop_item_id = $(this).attr("item_id");
				$(this).addClass("over");
				console.log("dragenter");
			});
			$(document).on("dragleave", ".items .item", function (e) {
				$(this).removeClass("over");
				console.log("dragleave");
			});
			$(document).on("dragend", ".items .item", function (e) {
	
				if (!drop_item_id) {
					console.log("dropしたitem_idがnull、return false");
					return false;
				}
				if (drag_item_id == drop_item_id) {
					console.log("同じIDの為、return false");
					return false;
				}
				(function () {
					var parent_id = drop_item_id;
					var id = drag_item_id;
					ajax.post({
						url: "/api/item/update",
						data: {
							id: id,
							parent_id: parent_id
						},
						success: (function (new_item) {
							$(".item[item_id=" + parent_id + "] a").trigger("click").focus();
							console.log("ajax item/updated_item:", new_item);
							$(this).remove();
						}).bind(this)
					});
				})();
				dragoverStyleReset();
				console.log("dragend");
			});
			function dragoverStyleReset() {
				console.log("dragoverStyleReset.");
				$(".items .item").removeClass("over");
			}
		};
	
		app.Item.setRightClickEvent = function () {};
		app.Item.delete = function (id) {
			ajax.post({
				url: "/api/item/delete",
				data: {
					id: id
				},
				success: function success(deletedCount) {
					// 削除する前にフォーカスを他のアイテムに移動させる
					var target = $(".item[item_id=" + id + "]");
					target.closest("ul").find("a")[0].focus();
					// アイテム削除
					target.remove();
					console.log("del item success.  count:", deletedCount);
				}
			});
		};
	})();

/***/ },
/* 13 */
/***/ function(module, exports, __webpack_require__) {

	"use strict";
	
	__webpack_require__(14);
	
	(function () {
		app.ItemDetail = ItemDetail;
	
		function ItemDetail() {}
	
		ItemDetail.loadedItem = null;
		var doLoadTimer = null;
		ItemDetail.loadContent = function (url) {
			if (doLoadTimer) {
				clearTimeout(doLoadTimer);
			}
			// 指定秒数待ってからリクエスト
			// アイテム移動を繰り返す場合、無駄なリクエストになるため
			doLoadTimer = setTimeout(function () {
				var detailArea = $(".detail");
				ajax.get({
					url: url,
					success: function success(item) {
						ItemDetail.loadedItem = item;
						detailArea.show();
						detailArea.find("h2").text(item.name);
						detailArea.find(".text").html(app.util.autoLink(item.text));
	
						var data = {};
						data.created_at = item.created_at;
						data.updated_at = item.updated_at;
						detailArea.find(".content").html(app.util.objectToHtml(data));
					}
				});
			}, 100);
		};
	
		// 高さ調整
		app.ItemDetail.adjustHeight = function () {
			console.log("header:", $("header").outerHeight());
			console.log(".browse:", $(".browse").outerHeight());
			console.log(".tabs:", $(".tabs").outerHeight());
			console.log("footer:", $("footer").outerHeight());
			console.log("window:", $(window).height());
			var total = $("header").outerHeight() + $(".tabs").outerHeight() + $(".browse").outerHeight() + $("footer").outerHeight();
			console.log({ total: total });
			var h = $(window).height() - total;
			console.log({ setHeight: h });
			$(".detail").outerHeight(h);
		};
		$(function () {
			// 初期表示で調整
			app.ItemDetail.adjustHeight();
			// ツリー高さ調整時にも調整しないと
			$(".items").on("resize", function () {
				app.ItemDetail.adjustHeight();
			});
			// ウィンドウリサイズ時にも
			$(window).on("resize", function () {
				app.ItemDetail.adjustHeight();
			});
		});
	
		// 編集モード
		$(document).on("click", ".content .name, .text", function () {
			$(this).attr("contenteditable", "true").focus();
			// console.log( "!" );
		});
		// 編集確定
		$(document).on("blur", ".content .name, .text", function () {
			$(this).attr("contenteditable", "false");
			var detailArea = $(".detail");
			ajax.post({
				url: "/api/item/update",
				data: {
					id: ItemDetail.loadedItem.id,
					name: detailArea.find("h2.name").text(),
					text: detailArea.find(".text").html()
				},
				success: function success(item) {
					console.log("/api/item/update item:", item);
				}
			});
		});
	})();

/***/ },
/* 14 */
/***/ function(module, exports) {

	// removed by extract-text-webpack-plugin

/***/ }
]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvd2ViL2FwcC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvd2ViL2Zvb3Rlci5zY3NzIiwid2VicGFjazovLy8uL3NyYy93ZWIvanF1ZXJ5X2FqYXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3dlYi9hcHAvdXRpbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvd2ViL2tleV9hY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3dlYi9pdGVtcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvd2ViL2l0ZW1zLnNjc3MiLCJ3ZWJwYWNrOi8vLy4vc3JjL3dlYi9pdGVtX2xpc3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3dlYi9pdGVtLmpzIiwid2VicGFjazovLy8uL3NyYy93ZWIvaXRlbV9kZXRhaWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3dlYi9pdGVtX2RldGFpbC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLE1BQUssVUFBUyxlQUFlLEdBQUc7QUFDL0IscUJBQU8sQ0FBQyxDQUFlLENBQUMsQ0FBQztFQUN6QixHQUFFOztBQUVILE1BQUssVUFBUyxrQkFBa0IsQ0FBQyxPQUFPLEVBQUU7QUFDekMsU0FBTyxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUM7QUFDakIsU0FBTyxDQUFDLElBQUksR0FBRyxtQkFBTyxDQUFDLENBQWtCLENBQUM7RUFDMUMsRUFBQyxNQUFNLENBQUMsQ0FBQzs7QUFFVixNQUFLLFVBQVMsS0FBSyxHQUFHO0FBQ3JCLHFCQUFPLENBQUMsQ0FBZSxDQUFDO0FBQ3hCLHFCQUFPLENBQUMsQ0FBaUIsQ0FBQztBQUMxQixxQkFBTyxDQUFDLENBQVksQ0FBQztBQUNyQixxQkFBTyxDQUFDLEVBQWdCLENBQUM7QUFDekIscUJBQU8sQ0FBQyxFQUFXLENBQUM7QUFDcEIscUJBQU8sQ0FBQyxFQUFrQixDQUFDO0VBQzNCLEdBQUUsQ0FBQzs7QUFFSixFQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxD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Q0FBQyxDQUFDO0dBQ0gsQ0FBQzs7O0FBR0YsR0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsdUJBQXVCLEVBQUUsWUFBVztBQUMzRCxJQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLGlCQUFpQixFQUFDLE1BQU0sQ0FBQyxDQUFDLEtBQUssRUFBRTs7QUFBQyxHQUUvQyxDQUFDOztBQUVGLEdBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLHVCQUF1QixFQUFFLFlBQVc7QUFDMUQsSUFBQyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsRUFBQyxPQUFPLENBQUMsQ0FBQztBQUN4QyxPQUFJLFVBQVUsR0FBRyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDOUIsT0FBSSxDQUFDLElBQUksQ0FBQztBQUNULE9BQUcsRUFBRSxrQkFBa0I7QUFDdkIsUUFBSSxFQUFFO0FBQ0wsT0FBRSxFQUFFLFVBQVUsQ0FBQyxVQUFVLENBQUMsRUFBRTtBQUM1QixTQUFJLEVBQUUsVUFBVSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxJQUFJLEVBQUU7QUFDdkMsU0FBSSxFQUFFLFVBQVUsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxFQUFFO0tBQ3JDO0FBQ0QsV0FBTyxFQUFFLGlCQUFTLElBQUksRUFBRTtBQUN2QixZQUFPLENBQUMsR0FBRyxDQUFFLHdCQUF3QixFQUFFLElBQUksQ0FBRSxDQUFDO0tBQzlDO0lBQ0QsQ0FBQyxDQUFDO0dBQ0gsQ0FBQyxDQUFDO0VBQ0gsR0FBRyxDOzs7Ozs7QUNyRkosMEMiLCJmaWxlIjoiamF2YXNjcmlwdHMvbWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZvaWQgZnVuY3Rpb24gbG9hZExheW91dFN0eWxlKCkge1xuXHRyZXF1aXJlKFwiLi9mb290ZXIuc2Nzc1wiKTtcbn0oKVxuXG52b2lkIGZ1bmN0aW9uIHNldEdsb2JhbFZhcmlhYmxlcyhnbG9iYWxzKSB7XG5cdGdsb2JhbHMuYXBwID0ge307XG5cdGdsb2JhbHMuYWpheCA9IHJlcXVpcmUoXCIuL2pxdWVyeV9hamF4LmpzXCIpXG59KHdpbmRvdyk7XG5cbnZvaWQgZnVuY3Rpb24gc3RhcnQoKSB7XG5cdHJlcXVpcmUoXCIuL2FwcC91dGlsLmpzXCIpXG5cdHJlcXVpcmUoXCIuL2tleV9hY3Rpb24uanNcIilcblx0cmVxdWlyZShcIi4vaXRlbXMuanNcIilcblx0cmVxdWlyZShcIi4vaXRlbV9saXN0LmpzXCIpXG5cdHJlcXVpcmUoXCIuL2l0ZW0uanNcIilcblx0cmVxdWlyZShcIi4vaXRlbV9kZXRhaWwuanNcIilcbn0oKTtcblxuJChkb2N1bWVudCkub24oXCJkcm9wXCIsIGZ1bmN0aW9uKGUpIHtcblx0aWYgKCBlLnByZXZlbnREZWZhdWx0ICkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0fVxuXHRjb25zb2xlLmxvZyggXCJkcm9wXCIgKTtcbn0pO1xuXG4kKGRvY3VtZW50KS5vbihcImRyYWdvdmVyXCIsIGZ1bmN0aW9uKGUpIHtcblx0aWYgKCBlLnByZXZlbnREZWZhdWx0ICkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0fVxuXHRjb25zb2xlLmxvZyggXCJkcmFnb3ZlclwiKTtcbn0pO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvd2ViL2FwcC5qc1xuICoqLyIsIi8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy93ZWIvZm9vdGVyLnNjc3NcbiAqKiBtb2R1bGUgaWQgPSAxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IG5ldyBKcXVlcnlBamF4O1xuZnVuY3Rpb24gSnF1ZXJ5QWpheCgpIHtcblx0aWYgKCB0aGlzIGluc3RhbmNlb2YgV2luZG93ICkge1xuXHRcdC8vIHRocm93IEVycm9yKFwi44GT44KJ44O877yBbmV344GX44Gm5L2/44Gj44Gm44GP44Gg44GV44GE44GtXCIpO1xuXHRcdHJldHVybiBuZXcgSnF1ZXJ5QWpheCgpO1xuXHR9XG5cdHZhciBzZWxmID0gdGhpcztcblx0c2VsZi5nZXQgPSBmdW5jdGlvbihwYXJhbXMpIHtcblx0XHRyZXR1cm4gJC5hamF4KHtcblx0XHRcdGFzeW5jICAgIDogdHJ1ZSxcblx0XHRcdGNhY2hlICAgIDogZmFsc2UsXG5cdFx0XHR0eXBlICAgICA6IFwiR0VUXCIsXG5cdFx0XHRkYXRhVHlwZSA6IHBhcmFtcy5kYXRhVHlwZSB8fCBcImpzb25cIixcblx0XHRcdHVybCAgICAgIDogcGFyYW1zLnVybCB8fCBcIi9cIixcblx0XHRcdGRhdGEgICAgIDogcGFyYW1zLmRhdGEgfHwge30sXG5cdFx0XHRjb250ZXh0ICA6IHBhcmFtcy5jb250ZXh0IHx8IGRvY3VtZW50LFxuXHRcdFx0c3VjY2VzcyAgOiBwYXJhbXMuc3VjY2VzcyB8fCBmdW5jdGlvbihkYXRhKXsgY29uc29sZS5kZWJ1ZyggZGF0YSApOyB9XG5cdFx0fSk7XG5cdH1cblx0c2VsZi5wb3N0ID0gZnVuY3Rpb24ocGFyYW1zKSB7XG5cdFx0Y29uc29sZS5kZWJ1ZyggXCJhamF4LnBvc3QgcGFyYW1zOlwiLCBwYXJhbXMgKTtcblx0XHR2YXIgcG9zdERhdGEgPSBwYXJhbXMuZGF0YTtcblx0XHRcblx0XHR2YXIgYWpheFBhcmFtcyA9IHtcblx0XHRcdGFzeW5jICAgIDogdHJ1ZSxcblx0XHRcdGNhY2hlICAgIDogZmFsc2UsXG5cdFx0XHR0eXBlICAgICA6IFwicG9zdFwiLFxuXHRcdFx0ZGF0YVR5cGUgOiBwYXJhbXMuZGF0YVR5cGUgfHwgXCJqc29uXCIsXG5cdFx0XHR1cmwgICAgICA6IHBhcmFtcy51cmwgfHwgXCIvXCIsXG5cdFx0XHRkYXRhICAgICA6IHBvc3REYXRhLFxuXHRcdFx0Y29udGV4dCAgOiBwYXJhbXMuY29udGV4dCB8fCBkb2N1bWVudCxcblx0XHRcdHN1Y2Nlc3MgIDogcGFyYW1zLnN1Y2Nlc3MgfHwgZnVuY3Rpb24oZGF0YSl7IGNvbnNvbGUuZGVidWcoIGRhdGEgKTsgfSxcblx0XHRcdHhociAgICAgIDogcGFyYW1zLnhociB8fCBmdW5jdGlvbigpe1xuXHRcdFx0XHR2YXIgWEhSID0gJC5hamF4U2V0dGluZ3MueGhyKCk7XG5cdFx0XHRcdGlmKCBYSFIudXBsb2FkICl7XG5cdFx0XHRcdFx0WEhSLnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsZnVuY3Rpb24oZSl7XG5cdFx0XHRcdFx0XHR2YXIgcHJvZ3JlID0gcGFyc2VJbnQoIGUubG9hZGVkIC8gZS50b3RhbCAqIDEwMDAwICkgLyAxMDA7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmRlYnVnKHByb2dyZStcIiVcIik7XG5cdFx0XHRcdFx0XHQkKFwiI3Byb2dyZXNzLWJhclwiKS53aWR0aChwcm9ncmUgKyBcIiVcIik7XG5cdFx0XHRcdFx0fSwgZmFsc2UpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBYSFI7XG5cdFx0XHR9XG5cdFx0fTtcblx0XHRcblx0XHQvLyBGSUxF44Ki44OD44OX44Ot44O844OJ44GZ44KL5aC05ZCIXG5cdFx0aWYgKCBwYXJhbXMuZmlsZSB8fCBwYXJhbXMuZmlsZXMgKSB7XG5cdFx0XHRcblx0XHRcdHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuXHRcdFx0aWYgKCBwYXJhbXMuZGF0YSApIHtcblx0XHRcdFx0T2JqZWN0LmtleXMocGFyYW1zLmRhdGEpLmZvckVhY2goZnVuY3Rpb24oa2V5KXtcblx0XHRcdFx0XHRmb3JtRGF0YS5hcHBlbmQoa2V5LCBwYXJhbXMuZGF0YVtrZXldKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIHBhcmFtcy5maWxlICkge1xuXHRcdFx0XHRmb3JtRGF0YS5hcHBlbmQoXCJmaWxlXCIsIHBhcmFtcy5maWxlKTtcblx0XHRcdH1cblx0XHRcdGlmICggcGFyYW1zLmZpbGVzICkge1xuXHRcdFx0XHRPYmplY3Qua2V5cyhwYXJhbXMuZmlsZXMpLmZvckVhY2goZnVuY3Rpb24oa2V5KXtcblx0XHRcdFx0XHR2YXIgZmlsZSA9IHBhcmFtcy5maWxlc1trZXldO1xuXHRcdFx0XHRcdGZvcm1EYXRhLmFwcGVuZChcImZpbGVzW11cIiwgZmlsZSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRhamF4UGFyYW1zLmRhdGEgPSBmb3JtRGF0YTtcblx0XHRcdGFqYXhQYXJhbXMuY29udGVudFR5cGUgPSBmYWxzZTsgLy8gRm9ybURhdGHkvb/jgYbloLTlkIjjgIHlv4XpoIhcblx0XHRcdGFqYXhQYXJhbXMucHJvY2Vzc0RhdGEgPSBmYWxzZTsgLy8gRm9ybURhdGHkvb/jgYbloLTlkIjjgIHlv4XpoIhcblx0XHR9XG5cdFx0dmFyIGFqYXggPSAkLmFqYXgoYWpheFBhcmFtcyk7XG5cdFx0cmV0dXJuIGFqYXg7XG5cdH1cblx0c2VsZi51cGxvYWRTaW5nbGUgPSBmdW5jdGlvbihmaWxlLCBwYXJhbXMpIHtcblx0XHRwYXJhbXMuZmlsZSA9IGZpbGU7XG5cdFx0cmV0dXJuIHNlbGYucG9zdChwYXJhbXMpO1xuXHR9XG5cdHNlbGYudXBsb2FkTXVsdGkgPSBmdW5jdGlvbihmaWxlcywgcGFyYW1zKSB7XG5cdFx0cGFyYW1zLmZpbGVzID0gZmlsZXM7XG5cdFx0cmV0dXJuIHNlbGYucG9zdChwYXJhbXMpO1xuXHR9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy93ZWIvanF1ZXJ5X2FqYXguanNcbiAqKi8iLCJhcHAudXRpbCA9IHt9O1xuYXBwLnV0aWwub2JqZWN0VG9IdG1sID0gZnVuY3Rpb24ob2JqKSB7XG5cdHZhciBodG1sID0gXCJcIjtcblx0T2JqZWN0LmtleXMob2JqKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuXHRcdGh0bWwgKz0ga2V5ICsgXCI6IFwiICsgb2JqW2tleV0gKyBcIjxicj5cIjtcblx0fSk7XG5cdHJldHVybiBodG1sO1xufVxuYXBwLnV0aWwuYXV0b0xpbmsgPSBmdW5jdGlvbihzdHIpIHtcblx0aWYgKCAhIHN0ciApIHJldHVybiBzdHI7XG5cdHJldHVybiBzdHIucmVwbGFjZSgvKChodHRwfGh0dHBzfGZ0cCk6XFwvXFwvW1xcdz89Ji5cXC8tOyN+JS1dKyg/IVtcXHdcXHM/Ji5cXC87I34lXCI9LV0qPikpL2csICc8YSB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwiJDFcIj4kMTwvYT4gJyk7XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy93ZWIvYXBwL3V0aWwuanNcbiAqKi8iLCIoZnVuY3Rpb24oKSB7XG5cdHZhciBpdGVtc0FyZWEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLml0ZW1zXCIpO1xuXHR2YXIgaXRlbXNNb3VzZXRyYXAgPSBuZXcgTW91c2V0cmFwKGl0ZW1zQXJlYSk7XG5cdHZhciBwcmVzc0tleSA9IG51bGw7XG5cdC8vIOOCouOCpOODhuODoOODleOCqeODvOOCq+OCueenu+WLleezu1xuXHRpdGVtc01vdXNldHJhcC5iaW5kKCd1cCcsIGZ1bmN0aW9uKGUpIHtcblx0XHRwcmVzc0tleSA9IGUua2V5SWRlbnRpZmllcjtcblx0XHQkKFwiOmZvY3VzXCIpLmNsb3Nlc3QoXCJsaVwiKS5wcmV2KCkuZmluZChcImFcIikuZm9jdXMoKTtcblx0fSk7XG5cdGl0ZW1zTW91c2V0cmFwLmJpbmQoJ2Rvd24nLCBmdW5jdGlvbihlKSB7XG5cdFx0cHJlc3NLZXkgPSBlLmtleUlkZW50aWZpZXI7XG5cdFx0JChcIjpmb2N1c1wiKS5jbG9zZXN0KFwibGlcIikubmV4dCgpLmZpbmQoXCJhXCIpLmZvY3VzKCk7XG5cdH0pO1xuXHRpdGVtc01vdXNldHJhcC5iaW5kKCdyaWdodCcsIGZ1bmN0aW9uKGUpIHtcblx0XHRwcmVzc0tleSA9IGUua2V5SWRlbnRpZmllcjtcblx0XHQkKFwiOmZvY3VzXCIpLmNsb3Nlc3QoXCJ1bFwiKS5uZXh0KCkuZmluZChcImxpIGFcIikuZmlyc3QoKS5mb2N1cygpO1xuXHR9KTtcblx0aXRlbXNNb3VzZXRyYXAuYmluZCgnbGVmdCcsIGZ1bmN0aW9uKGUpIHtcblx0XHRwcmVzc0tleSA9IGUua2V5SWRlbnRpZmllcjtcblx0XHRjb25zb2xlLmxvZyggXCJsZWZ0IGUua2V5SWRlbnRpZmllcjpcIiwgZS5rZXlJZGVudGlmaWVyICk7XG5cdFx0XG5cdFx0dmFyIGl0ZW0gPSAkKFwiOmZvY3VzXCIpLmNsb3Nlc3QoXCJ1bFwiKS5wcmV2KCkuZmluZChcImxpW3NlbGVjdGVkXVwiKTtcblx0XHRpZiAoIGl0ZW0ubGVuZ3RoICkge1xuXHRcdFx0Ly8g44Or44O844OI44Ki44Kk44OG44Og44GY44KD44Gq44GR44KM44GwXG5cdFx0XHRpdGVtLmZpbmQoXCJhXCIpLmZvY3VzKCk7XG5cdFx0XHR2YXIgdXJsID0gaXRlbS5maW5kKFwiYVwiKS5hdHRyKFwiaHJlZlwiKTtcblx0XHRcdGFwcC5JdGVtRGV0YWlsLmxvYWRDb250ZW50KHVybCk7XG5cdFx0fVxuXHR9KTtcblx0JChkb2N1bWVudCkub24oXCJmb2N1c1wiLFwiLml0ZW1zIHVsIGxpIGFcIiwgZnVuY3Rpb24oZSkge1xuXHRcdGlmICggcHJlc3NLZXkgKSB7XG5cdFx0XHRpZiAoIHByZXNzS2V5ICE9IFwiTGVmdFwiICkge1xuXHRcdFx0XHQkKHRoaXMpLnRyaWdnZXIoXCJjbGlja1wiKTtcblx0XHRcdH1cblx0XHRcdHByZXNzS2V5ID0gbnVsbDtcblx0XHR9XG5cdH0pO1xuXHQvLyDjgqLjgqTjg4bjg6Djg5Xjgqnjg7zjgqvjgrnmmYJERUzjgq3jg7xcblx0aXRlbXNNb3VzZXRyYXAuYmluZChbJ2RlbCcsJ2JhY2tzcGFjZSddLCBmdW5jdGlvbihlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdHZhciBpZCA9ICQoZS50YXJnZXQpLmF0dHIoXCJpdGVtX2lkXCIpO1xuXHRcdGNvbnNvbGUubG9nKCBpZCApO1xuXHRcdGFwcC5JdGVtLmRlbGV0ZShpZCk7XG5cdH0pO1xufSkoKTtcblx0XG5Nb3VzZXRyYXAuYmluZCgndGFiJywgZnVuY3Rpb24oZSkge1xuXHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFxuXHRpZiAoIGFwcC5JdGVtRGV0YWlsLmxvYWRlZEl0ZW0gKSB7XG5cdFx0Ly8g6Kmz57Sw6KGo56S644GX44Gm44GE44KL5aC05ZCIXG5cdFx0dmFyIGl0ZW1faWQgPSBhcHAuSXRlbURldGFpbC5sb2FkZWRJdGVtLmlkO1xuXHRcdCQoXCIuaXRlbXMgdWwgLml0ZW1baXRlbV9pZD1cIisgaXRlbV9pZCArXCJdIGFcIikuZm9jdXMoKTtcblx0fSBlbHNlIHtcblx0XHQvLyDjgqLjgqTjg4bjg6DliJ3mnJ/ooajnpLrnirbmhYvjgad0YWLmirzjgZfjgZ/loLTlkIhcblx0XHQkKFwiLml0ZW1zIHVsIGFcIikuZmlyc3QoKS5mb2N1cygpLnRyaWdnZXIoXCJjbGlja1wiKTtcblx0fVxufSk7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy93ZWIva2V5X2FjdGlvbi5qc1xuICoqLyIsInJlcXVpcmUoXCIuL2l0ZW1zLnNjc3NcIik7XG5cbiQoZnVuY3Rpb24oKSB7XG5cdHZhciBpdGVtcyA9IG5ldyBhcHAuSXRlbXMoKTtcblx0YXBwLkl0ZW1zLnNldFJlc2l6YWJsZUFjdGlvbigpO1xuXHRhcHAuSXRlbXMuc2V0S2V5UHJlc3NBY3Rpb24oKTtcbn0pO1xuXG52b2lkIGZ1bmN0aW9uKCkge1xuXHRhcHAuSXRlbXMgPSBJdGVtcztcblx0ZnVuY3Rpb24gSXRlbXMoKSB7XG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdHNlbGYuYXJlYSA9ICQoXCIuaXRlbXMgLmlubmVyXCIpO1xuXHRcdHNlbGYuc2V0Q29udGV4dE1lbnVFdmVudCgpO1xuXHRcdFxuXHRcdHZvaWQgZnVuY3Rpb24gc2V0SW5pdGlhbFN0YXRlKCkge1xuXHRcdFx0YWpheC5nZXQoe1xuXHRcdFx0XHR1cmw6IFwiL2FwaS9pdGVtc1wiLFxuXHRcdFx0XHRkYXRhOiB7XG5cdFx0XHRcdFx0cGFyZW50X2lkOiBudWxsLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHRzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG5cdFx0XHRcdFx0c2VsZi5hZGRSb290SXRlbXMoZGF0YSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0oKTtcblx0fVxuXHRJdGVtcy5wcm90b3R5cGUuc2V0Q29udGV4dE1lbnVFdmVudCA9IGZ1bmN0aW9uKCkge1xuXHRcdC8vIOODleOCqeODq+ODgOOCkuWPs+OCr+ODquODg+OCr+OBl+OBn+aZglxuXHRcdCQoZG9jdW1lbnQpLm9uKFwiY29udGV4dG1lbnVcIiwgXCIuaXRlbXMgdWwgbGkuZm9sZGVyXCIsIGZ1bmN0aW9uKGUpIHtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdGdldFNlbGVjdGlvbigpLnJlbW92ZUFsbFJhbmdlcygpOyAvLyDpgbjmip7nr4Tlm7LjgpLjgZnjgbnjgabop6PpmaRcblx0XHRcdFxuXHRcdFx0dmFyIGNsaWNrZWRJdGVtID0gJCh0aGlzKTtcblx0XHRcdGFwcC5JdGVtLmFkZChjbGlja2VkSXRlbSk7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fSk7XG5cdFx0Ly8gVUzjgpLlj7Pjgq/jg6rjg4Pjgq/jgZfjgZ/mmYJcblx0XHQkKGRvY3VtZW50KS5vbihcImNvbnRleHRtZW51XCIsIFwiLml0ZW1zIHVsXCIsIGZ1bmN0aW9uKGUpIHtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdGdldFNlbGVjdGlvbigpLnJlbW92ZUFsbFJhbmdlcygpOyAvLyDpgbjmip7nr4Tlm7LjgpLjgZnjgbnjgabop6PpmaRcblx0XHRcdHZhciBjbGlja2VkSXRlbSA9ICQodGhpcykucHJldigpLmZpbmQoXCJsaVtzZWxlY3RlZF1cIik7XG5cdFx0XHRhcHAuSXRlbS5hZGQoY2xpY2tlZEl0ZW0pO1xuXHRcdH0pO1xuXHR9XG5cdEl0ZW1zLnByb3RvdHlwZS5hZGRSb290SXRlbXMgPSBmdW5jdGlvbihpdGVtcykge1xuXHRcdHRoaXMuYXJlYS5hcHBlbmQobmV3IGFwcC5JdGVtTGlzdChpdGVtcykpO1xuXHR9XG5cdEl0ZW1zLnNldFJlc2l6YWJsZUFjdGlvbiA9IGZ1bmN0aW9uKCkge1xuXHRcdCQoZnVuY3Rpb24oKSB7XG5cdFx0XHQkKFwiLml0ZW1zIC5pbm5lclwiKS5yZXNpemFibGUoe1xuXHRcdFx0XHRoYW5kbGVzOiBcInNcIixcblx0XHRcdFx0c3RvcDogZnVuY3Rpb24oIGV2ZW50LCB1aSApIHtcblx0XHRcdFx0XHQvLyDjg6rjgrXjgqTjgrrlrozkuobjgZfjgZ/mmYLjgavjgq/jg4Pjgq3jg7zjgavpq5jjgZXjgpLkv53lrZhcblx0XHRcdFx0XHR2YXIgaCA9IHVpLnNpemUuaGVpZ2h0O1xuXHRcdFx0XHRcdCQuY29va2llKCcuaXRlbXMtcmVzaXplZC1oZWlnaHQnLCBoKTtcblx0XHRcdFx0fSxcblx0XHRcdFx0cmVzaXplOiBmdW5jdGlvbiggZXZlbnQsIHVpICkge1xuXHRcdFx0XHRcdHZhciBoID0gdWkuc2l6ZS5oZWlnaHQ7XG5cdFx0XHRcdFx0JChcIi5pdGVtc1wiKS5oZWlnaHQoaCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0Ly8g44Kv44OD44Kt44O844Gr6KiY5oa244GX44Gf6auY44GV44GM44GC44KM44Gw6Kq/5pW0XG5cdFx0XHR2YXIgc2F2ZWRIZWlnaHQgPSAkLmNvb2tpZSgnLml0ZW1zLXJlc2l6ZWQtaGVpZ2h0Jyk7XG5cdFx0XHRpZiAoIHNhdmVkSGVpZ2h0ICkge1xuXHRcdFx0XHQkKFwiLml0ZW1zXCIpLmhlaWdodChzYXZlZEhlaWdodCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblx0SXRlbXMuc2V0S2V5UHJlc3NBY3Rpb24gPSBmdW5jdGlvbigpIHtcblx0XHRcblx0fVxufSgpO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvd2ViL2l0ZW1zLmpzXG4gKiovIiwiLy8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vc3JjL3dlYi9pdGVtcy5zY3NzXG4gKiogbW9kdWxlIGlkID0gOVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidm9pZCBmdW5jdGlvbigpIHtcblx0YXBwLkl0ZW1MaXN0ID0gSXRlbUxpc3Q7XG5cdGZ1bmN0aW9uIEl0ZW1MaXN0KGl0ZW1zKSB7XG5cdFx0cmV0dXJuIHRoaXMuYnVpbGRFbGVtZW50KGl0ZW1zKTtcblx0fVxuXHRJdGVtTGlzdC5wcm90b3R5cGUuYnVpbGRFbGVtZW50ID0gZnVuY3Rpb24oaXRlbXMpIHtcblx0XHR2YXIgdWwgPSAkKFwiPHVsPlwiKTtcblx0XHR1bC5hdHRyKFwidWxfaWRcIiwgJChcIi5pdGVtcyB1bFwiKS5zaXplKCkgKTtcblx0XHRpdGVtcy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcblx0XHRcdHZhciBpdGVtID0gbmV3IGFwcC5JdGVtKGl0ZW0pO1xuXHRcdFx0dWwuYXBwZW5kKGl0ZW0pO1xuXHRcdH0pO1xuXHRcdHJldHVybiB1bDtcblx0fVxufSgpO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvd2ViL2l0ZW1fbGlzdC5qc1xuICoqLyIsIiQoZnVuY3Rpb24oKSB7XG5cdGFwcC5JdGVtLnNldENsaWNrRXZlbnQoKTtcblx0YXBwLkl0ZW0uc2V0UmlnaHRDbGlja0V2ZW50KCk7XG5cdGFwcC5JdGVtLnNldERuREV2ZW50KCk7XG59KTtcbnZvaWQgZnVuY3Rpb24oKSB7XG5cdGFwcC5JdGVtID0gSXRlbTtcblx0ZnVuY3Rpb24gSXRlbShkYXRhKSB7XG5cdFx0dmFyIGVsZW0gPSB0aGlzLmJ1aWxkRWxlbWVudChkYXRhKTtcblx0XHRyZXR1cm4gZWxlbTtcblx0fVxuXHRJdGVtLnByb3RvdHlwZS5idWlsZEVsZW1lbnQgPSBmdW5jdGlvbihkYXRhKSB7XG5cdFx0dmFyIG5hbWUgPSBkYXRhLm5hbWU7XG5cdFx0dmFyIGlkID0gZGF0YS5pZDtcblx0XHR2YXIgdHlwZSA9IGRhdGEudHlwZTtcblx0XHR2YXIgc3BhbiA9ICQoXCI8c3Bhbj5cIik7XG5cdFx0c3Bhbi5hZGRDbGFzcyhcImdseXBoaWNvblwiKS5hZGRDbGFzcyhcImdseXBoaWNvbi1mb2xkZXItY2xvc2VcIik7XG5cdFx0dmFyIG5hbWVfc3BhbiA9ICQoXCI8c3BhbiBjbGFzcz1uYW1lPlwiKTtcblx0XHRuYW1lX3NwYW4udGV4dChuYW1lKTtcblx0XHRzcGFuLmFwcGVuZChuYW1lX3NwYW4pO1xuXHRcdHZhciBhID0gJChcIjxhIGhyZWY9L2FwaS9pdGVtL1wiICsgaWQgKyBcIiBpdGVtX2lkPVwiICsgaWQgKyBcIiBkcmFnZ2FibGU9ZmFsc2U+XCIpO1xuXHRcdGEuYXBwZW5kKHNwYW4pO1xuXHRcdHZhciBsaSA9ICQoXCI8bGkgaXRlbV9pZD1cIisgaWQgK1wiIGRyYWdnYWJsZT10cnVlPlwiKS5hZGRDbGFzcyhcIml0ZW1cIik7XG5cdFx0aWYgKCB0eXBlID09IFwiZm9sZGVyXCIgKSB7XG5cdFx0XHRsaS5hZGRDbGFzcyhcImZvbGRlclwiKTtcblx0XHR9XG5cdFx0bGkuYXBwZW5kKGEpO1xuXHRcdHJldHVybiBsaTtcblx0fVxuXHRJdGVtLmFkZCA9IGZ1bmN0aW9uKHBhcmVudEl0ZW0pIHtcblx0XHR2YXIgbmFtZSA9IFwiXCI7XG5cdFx0dmFyIHBhcmVudF9pZCA9IHBhcmVudEl0ZW0uYXR0cihcIml0ZW1faWRcIik7XG5cdFx0aWYgKCBuYW1lID0gcHJvbXB0KFwi5paw6KaP5L2c5oiQ44GX44G+44GZXCIsIFwi5paw44GX44GE44Ki44Kk44OG44OgXCIpICkge1xuXHRcdFx0YWpheC5wb3N0KHtcblx0XHRcdFx0dXJsOiBcIi9hcGkvaXRlbS9hZGRcIixcblx0XHRcdFx0ZGF0YToge1xuXHRcdFx0XHRcdG5hbWU6IG5hbWUsXG5cdFx0XHRcdFx0cGFyZW50X2lkOiBwYXJlbnRfaWRcblx0XHRcdFx0fSxcblx0XHRcdFx0c3VjY2VzczogZnVuY3Rpb24obmV3X2l0ZW0pIHtcblx0XHRcdFx0XHRwYXJlbnRJdGVtLmZpbmQoXCJhXCIpLnRyaWdnZXIoXCJjbGlja1wiKTtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyggXCJhamF4IGl0ZW0vc2F2ZSBkYXRhOlwiLCBuZXdfaXRlbSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cdH07XG5cdFxuXHRhcHAuSXRlbS5zZXRDbGlja0V2ZW50ID0gZnVuY3Rpb24oKSB7XG5cdFx0XG5cdFx0JChkb2N1bWVudCkub24oXCJjbGlja1wiLCBcIi5pdGVtIGFcIiwgZnVuY3Rpb24oZSkge1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0dmFyIGNsaWNrZWRJdGVtID0gJChzZWxmKS5jbG9zZXN0KFwibGlcIik7XG5cdFx0XHR2YXIgY2xpY2tlZFVsID0gJChzZWxmKS5jbG9zZXN0KFwidWxcIik7XG5cdFx0XHR2YXIgcGFyZW50SXRlbXNBcmVhID0gJCh0aGlzKS5jbG9zZXN0KFwiLml0ZW1zXCIpO1xuXHRcdFx0XG5cdFx0XHQvLyDjgrPjg7Pjg4bjg7Pjg4Toqq3jgb/ovrzjgb9cblx0XHRcdHZhciB1cmwgPSAkKHNlbGYpLmF0dHIoXCJocmVmXCIpO1xuXHRcdFx0YXBwLkl0ZW1EZXRhaWwubG9hZENvbnRlbnQodXJsKTtcblx0XHRcdFxuXHRcdFx0Ly8gc2VsZWN0ZWTjgqLjgqTjg4bjg6DjgavjgZnjgotcblx0XHRcdC8vIOS7luOBruOCouOCpOODhuODoOOBr3NlbGVjdGVk44KS5aSW44GZXG5cdFx0XHRjbGlja2VkVWwuZmluZChcIi5pdGVtXCIpLnJlbW92ZUF0dHIoXCJzZWxlY3RlZFwiKTtcblx0XHRcdGNsaWNrZWRJdGVtLmF0dHIoXCJzZWxlY3RlZFwiLCB0cnVlKTtcblx0XHRcdFxuXHRcdFx0Ly8g44Ki44Kk44OG44Og6IOM5pmv6Imy44KS6Kq/5pW0XG5cdFx0XHR2b2lkIGZ1bmN0aW9uIGFkanVzdEJnQ29sb3IoKSB7XG5cdFx0XHRcdCQodGhpcykuY2xvc2VzdChcInVsXCIpLmZpbmQoXCJhXCIpLmNzcyhcImJhY2tncm91bmQtY29sb3JcIiwgXCJcIik7XG5cdFx0XHRcdCQodGhpcykuY3NzKFwiYmFja2dyb3VuZC1jb2xvclwiLFwiI2NjY2NjY1wiKTtcblx0XHRcdH0uYmluZCh0aGlzKSgpO1xuXHRcdFx0XG5cdFx0XHQvLyDlrZDjgqLjgqTjg4bjg6DjgpLoqq3jgb/ovrzjgb9cblx0XHRcdHZvaWQgZnVuY3Rpb24gbG9hZENoaWxkSXRlbXMoKSB7XG5cdFx0XHRcdGlmICggISBjbGlja2VkSXRlbS5oYXNDbGFzcyhcImZvbGRlclwiKSApIHtcblx0XHRcdFx0XHQvLyDjgq/jg6rjg4Pjgq/jgZfjgZ/jgqLjgqTjg4bjg6DjgYzjg5Xjgqnjg6vjg4DjgZjjgoPjgarjgYTjgarjgonkvZXjgoLjgZfjgarjgYRcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdFx0YWpheC5nZXQoe1xuXHRcdFx0XHRcdHVybDogXCIvYXBpL2l0ZW1zXCIsXG5cdFx0XHRcdFx0ZGF0YToge1xuXHRcdFx0XHRcdFx0cGFyZW50X2lkOiAkKHNlbGYpLmF0dHIoXCJpdGVtX2lkXCIpXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRzdWNjZXNzOiBmdW5jdGlvbihpdGVtcykge1xuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHQvLyDoh6rouqvjga7jg5Xjgqnjg6vjg4DphY3kuIvjga5VTOOCkuS4gOW6puWJiumZpFxuXHRcdFx0XHRcdFx0dm9pZCBmdW5jdGlvbiBkZXN0cm95Q2hpbGRJdGVtKCkge1xuXHRcdFx0XHRcdFx0XHR2YXIgc2VsZlVsSWQgPSBjbGlja2VkVWwuYXR0cihcInVsX2lkXCIpO1xuXHRcdFx0XHRcdFx0XHR2YXIgZm91bmRGbGFnID0gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdHBhcmVudEl0ZW1zQXJlYS5maW5kKFwidWxcIikuZWFjaChmdW5jdGlvbihpKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIGVhY2hVbCA9ICQodGhpcyk7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIGVhY2hVbElkID0gZWFjaFVsLmF0dHIoXCJ1bF9pZFwiKTtcblx0XHRcdFx0XHRcdFx0XHRpZiAoIGZvdW5kRmxhZyApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGVhY2hVbC5yZW1vdmUoKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBlYWNoVWxJZCA9PSBzZWxmVWxJZCApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGZvdW5kRmxhZyA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdH0oKTtcblx0XHRcdFx0XHRcdC8vIOiqreOBv+i+vOOCk+OBoOOCouOCpOODhuODoOOCkui/veWKoFxuXHRcdFx0XHRcdFx0JChcIi5pdGVtcyAuaW5uZXJcIikuYXBwZW5kKG5ldyBhcHAuSXRlbUxpc3QoaXRlbXMpKTtcblx0XHRcdFx0XHRcdC8vIFVM576k44Gu5ZCI6KiI5bmF44KSLml0ZW1z44Gr44K744OD44OIXG5cdFx0XHRcdFx0XHR2b2lkIGZ1bmN0aW9uIHNldEl0ZW1zV2lkdGgoKSB7XG5cdFx0XHRcdFx0XHRcdHZhciB3aWR0aCA9IDA7XG5cdFx0XHRcdFx0XHRcdCQoXCIuaXRlbXMgdWxcIikuZWFjaChmdW5jdGlvbih1bCkge1xuXHRcdFx0XHRcdFx0XHRcdHdpZHRoICs9ICQodGhpcykub3V0ZXJXaWR0aCgpO1xuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2coIFwidG90YWwgd2lkdGg6XCIsIHdpZHRoICk7XG5cdFx0XHRcdFx0XHRcdCQoXCIuaXRlbXMgLmlubmVyXCIpLndpZHRoKHdpZHRoKzIwKTtcblx0XHRcdFx0XHRcdH0oKTtcblx0XHRcdFx0XHRcdC8vIC5pdGVtc+OCqOODquOCouWGheOBruOCueOCr+ODreODvOODq+OCkuWPs+OBq+WvhOOBm+OCi1xuXHRcdFx0XHRcdFx0dm9pZCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0JChcIi5pdGVtc1wiKS5zY3JvbGxMZWZ0KDk5OTk5OSk7XG5cdFx0XHRcdFx0XHR9KCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH0oKTtcblx0XHR9KTtcblx0fVxuXG5cdGFwcC5JdGVtLnNldERuREV2ZW50ID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGRyYWdfaXRlbV9pZCA9IG51bGw7XG5cdFx0dmFyIGRyb3BfaXRlbV9pZCA9IG51bGw7XG5cdFx0XG5cdFx0JChkb2N1bWVudCkub24oXCJkcmFnc3RhcnRcIiwgXCIuaXRlbXMgLml0ZW1cIiwgZnVuY3Rpb24oZSkge1xuXHRcdFx0ZHJhZ19pdGVtX2lkID0gJCh0aGlzKS5hdHRyKFwiaXRlbV9pZFwiKTtcblx0XHRcdGNvbnNvbGUubG9nKCBcImRyYWdzdGFydFwiICk7XG5cdFx0fSk7XG5cdFx0JChkb2N1bWVudCkub24oXCJkcmFnZW50ZXJcIiwgXCIuaXRlbXMgLml0ZW1cIiwgZnVuY3Rpb24oZSkge1xuXHRcdFx0ZHJvcF9pdGVtX2lkID0gJCh0aGlzKS5hdHRyKFwiaXRlbV9pZFwiKTtcblx0XHRcdCQodGhpcykuYWRkQ2xhc3MoXCJvdmVyXCIpO1xuXHRcdFx0Y29uc29sZS5sb2coIFwiZHJhZ2VudGVyXCIgKTtcblx0XHR9KTtcblx0XHQkKGRvY3VtZW50KS5vbihcImRyYWdsZWF2ZVwiLCBcIi5pdGVtcyAuaXRlbVwiLCBmdW5jdGlvbihlKSB7XG5cdFx0XHQkKHRoaXMpLnJlbW92ZUNsYXNzKFwib3ZlclwiKTtcblx0XHRcdGNvbnNvbGUubG9nKCBcImRyYWdsZWF2ZVwiICk7XG5cdFx0fSk7XG5cdFx0JChkb2N1bWVudCkub24oXCJkcmFnZW5kXCIsIFwiLml0ZW1zIC5pdGVtXCIsIGZ1bmN0aW9uKGUpIHtcblx0XHRcdFxuXHRcdFx0aWYgKCAhIGRyb3BfaXRlbV9pZCApIHtcblx0XHRcdFx0Y29uc29sZS5sb2coIFwiZHJvcOOBl+OBn2l0ZW1faWTjgYxudWxs44CBcmV0dXJuIGZhbHNlXCIgKTtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCBkcmFnX2l0ZW1faWQgPT0gZHJvcF9pdGVtX2lkICkge1xuXHRcdFx0XHRjb25zb2xlLmxvZyggXCLlkIzjgZhJROOBrueCuuOAgXJldHVybiBmYWxzZVwiICk7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHRcdChmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIHBhcmVudF9pZCA9IGRyb3BfaXRlbV9pZDtcblx0XHRcdFx0dmFyIGlkID0gZHJhZ19pdGVtX2lkO1xuXHRcdFx0XHRhamF4LnBvc3Qoe1xuXHRcdFx0XHRcdHVybDogXCIvYXBpL2l0ZW0vdXBkYXRlXCIsXG5cdFx0XHRcdFx0ZGF0YToge1xuXHRcdFx0XHRcdFx0aWQ6IGlkLFxuXHRcdFx0XHRcdFx0cGFyZW50X2lkOiBwYXJlbnRfaWRcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uKG5ld19pdGVtKSB7XG5cdFx0XHRcdFx0XHQkKFwiLml0ZW1baXRlbV9pZD1cIisgcGFyZW50X2lkICtcIl0gYVwiKS50cmlnZ2VyKFwiY2xpY2tcIikuZm9jdXMoKTtcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCBcImFqYXggaXRlbS91cGRhdGVkX2l0ZW06XCIsIG5ld19pdGVtICk7XG5cdFx0XHRcdFx0XHQkKHRoaXMpLnJlbW92ZSgpO1xuXHRcdFx0XHRcdH0uYmluZCh0aGlzKVxuXHRcdFx0XHR9KTtcblx0XHRcdH0pKCk7XG5cdFx0XHRkcmFnb3ZlclN0eWxlUmVzZXQoKTtcblx0XHRcdGNvbnNvbGUubG9nKCBcImRyYWdlbmRcIiApO1xuXHRcdH0pO1xuXHRcdGZ1bmN0aW9uIGRyYWdvdmVyU3R5bGVSZXNldCgpIHtcblx0XHRcdGNvbnNvbGUubG9nKFwiZHJhZ292ZXJTdHlsZVJlc2V0LlwiKTtcblx0XHRcdCQoXCIuaXRlbXMgLml0ZW1cIikucmVtb3ZlQ2xhc3MoXCJvdmVyXCIpO1xuXHRcdH1cblx0fVxuXHRcblx0YXBwLkl0ZW0uc2V0UmlnaHRDbGlja0V2ZW50ID0gZnVuY3Rpb24oKSB7XG5cdFx0XG5cdH1cblx0YXBwLkl0ZW0uZGVsZXRlID0gZnVuY3Rpb24oaWQpIHtcblx0XHRhamF4LnBvc3Qoe1xuXHRcdFx0dXJsOiBcIi9hcGkvaXRlbS9kZWxldGVcIixcblx0XHRcdGRhdGE6IHtcblx0XHRcdFx0aWQ6IGlkLFxuXHRcdFx0fSxcblx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uKGRlbGV0ZWRDb3VudCkge1xuXHRcdFx0XHQvLyDliYrpmaTjgZnjgovliY3jgavjg5Xjgqnjg7zjgqvjgrnjgpLku5bjga7jgqLjgqTjg4bjg6Djgavnp7vli5XjgZXjgZvjgotcblx0XHRcdFx0dmFyIHRhcmdldCA9ICQoXCIuaXRlbVtpdGVtX2lkPVwiK2lkK1wiXVwiKTtcblx0XHRcdFx0dGFyZ2V0LmNsb3Nlc3QoXCJ1bFwiKS5maW5kKFwiYVwiKVswXS5mb2N1cygpO1xuXHRcdFx0XHQvLyDjgqLjgqTjg4bjg6DliYrpmaRcblx0XHRcdFx0dGFyZ2V0LnJlbW92ZSgpO1xuXHRcdFx0XHRjb25zb2xlLmxvZyggXCJkZWwgaXRlbSBzdWNjZXNzLiAgY291bnQ6XCIsIGRlbGV0ZWRDb3VudCApO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cdFxufSgpO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvd2ViL2l0ZW0uanNcbiAqKi8iLCJyZXF1aXJlKFwiLi9pdGVtX2RldGFpbC5zY3NzXCIpO1xuXG4oZnVuY3Rpb24oKSB7XG5cdGFwcC5JdGVtRGV0YWlsID0gSXRlbURldGFpbDtcblx0XG5cdGZ1bmN0aW9uIEl0ZW1EZXRhaWwoKSB7XG5cdH1cblx0XG5cdEl0ZW1EZXRhaWwubG9hZGVkSXRlbSA9IG51bGw7XG5cdHZhciBkb0xvYWRUaW1lciA9IG51bGw7XG5cdEl0ZW1EZXRhaWwubG9hZENvbnRlbnQgPSBmdW5jdGlvbih1cmwpIHtcblx0XHRpZiAoIGRvTG9hZFRpbWVyICkge1xuXHRcdFx0Y2xlYXJUaW1lb3V0KGRvTG9hZFRpbWVyKTtcblx0XHR9XG5cdFx0Ly8g5oyH5a6a56eS5pWw5b6F44Gj44Gm44GL44KJ44Oq44Kv44Ko44K544OIXG5cdFx0Ly8g44Ki44Kk44OG44Og56e75YuV44KS57mw44KK6L+U44GZ5aC05ZCI44CB54Sh6aeE44Gq44Oq44Kv44Ko44K544OI44Gr44Gq44KL44Gf44KBXG5cdFx0ZG9Mb2FkVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGRldGFpbEFyZWEgPSAkKFwiLmRldGFpbFwiKTtcblx0XHRcdGFqYXguZ2V0KHtcblx0XHRcdFx0dXJsOiB1cmwsXG5cdFx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uKGl0ZW0pIHtcblx0XHRcdFx0XHRJdGVtRGV0YWlsLmxvYWRlZEl0ZW0gPSBpdGVtO1xuXHRcdFx0XHRcdGRldGFpbEFyZWEuc2hvdygpO1xuXHRcdFx0XHRcdGRldGFpbEFyZWEuZmluZChcImgyXCIpLnRleHQoaXRlbS5uYW1lKTtcblx0XHRcdFx0XHRkZXRhaWxBcmVhLmZpbmQoXCIudGV4dFwiKS5odG1sKCBhcHAudXRpbC5hdXRvTGluayhpdGVtLnRleHQpICk7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0dmFyIGRhdGEgPSB7fTtcblx0XHRcdFx0XHRkYXRhLmNyZWF0ZWRfYXQgPSBpdGVtLmNyZWF0ZWRfYXQ7XG5cdFx0XHRcdFx0ZGF0YS51cGRhdGVkX2F0ID0gaXRlbS51cGRhdGVkX2F0O1xuXHRcdFx0XHRcdGRldGFpbEFyZWEuZmluZChcIi5jb250ZW50XCIpLmh0bWwoIGFwcC51dGlsLm9iamVjdFRvSHRtbChkYXRhKSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9LCAxMDApO1xuXHR9XG5cdFxuXHQvLyDpq5jjgZXoqr/mlbRcblx0YXBwLkl0ZW1EZXRhaWwuYWRqdXN0SGVpZ2h0ID0gZnVuY3Rpb24oKSB7XG5cdFx0Y29uc29sZS5sb2coIFwiaGVhZGVyOlwiLCAkKFwiaGVhZGVyXCIpLm91dGVySGVpZ2h0KCkgKTtcblx0XHRjb25zb2xlLmxvZyggXCIuYnJvd3NlOlwiLCAkKFwiLmJyb3dzZVwiKS5vdXRlckhlaWdodCgpICk7XG5cdFx0Y29uc29sZS5sb2coIFwiLnRhYnM6XCIsICQoXCIudGFic1wiKS5vdXRlckhlaWdodCgpICk7XG5cdFx0Y29uc29sZS5sb2coIFwiZm9vdGVyOlwiLCAkKFwiZm9vdGVyXCIpLm91dGVySGVpZ2h0KCkgKTtcblx0XHRjb25zb2xlLmxvZyggXCJ3aW5kb3c6XCIsICQod2luZG93KS5oZWlnaHQoKSApO1xuXHRcdHZhciB0b3RhbCA9ICQoXCJoZWFkZXJcIikub3V0ZXJIZWlnaHQoKVxuXHRcdFx0KyAkKFwiLnRhYnNcIikub3V0ZXJIZWlnaHQoKVxuXHRcdFx0KyAkKFwiLmJyb3dzZVwiKS5vdXRlckhlaWdodCgpXG5cdFx0XHQrICQoXCJmb290ZXJcIikub3V0ZXJIZWlnaHQoKVxuXHRcdGNvbnNvbGUubG9nKCB7dG90YWx9ICk7XG5cdFx0dmFyIGggPSAkKHdpbmRvdykuaGVpZ2h0KCkgLSB0b3RhbDtcblx0XHRjb25zb2xlLmxvZygge3NldEhlaWdodDogaH0gKTtcblx0XHQkKFwiLmRldGFpbFwiKS5vdXRlckhlaWdodCggaCApO1xuXHR9XG5cdCQoZnVuY3Rpb24oKSB7XG5cdFx0Ly8g5Yid5pyf6KGo56S644Gn6Kq/5pW0XG5cdFx0YXBwLkl0ZW1EZXRhaWwuYWRqdXN0SGVpZ2h0KCk7XG5cdFx0Ly8g44OE44Oq44O86auY44GV6Kq/5pW05pmC44Gr44KC6Kq/5pW044GX44Gq44GE44GoXG5cdFx0JChcIi5pdGVtc1wiKS5vbihcInJlc2l6ZVwiLCBmdW5jdGlvbigpIHtcblx0XHRcdGFwcC5JdGVtRGV0YWlsLmFkanVzdEhlaWdodCgpO1xuXHRcdH0pO1xuXHRcdC8vIOOCpuOCo+ODs+ODieOCpuODquOCteOCpOOCuuaZguOBq+OCglxuXHRcdCQod2luZG93KS5vbihcInJlc2l6ZVwiLCBmdW5jdGlvbigpIHtcblx0XHRcdGFwcC5JdGVtRGV0YWlsLmFkanVzdEhlaWdodCgpO1xuXHRcdH0pO1xuXHR9KTtcblx0XG5cdC8vIOe3qOmbhuODouODvOODiVxuXHQkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsIFwiLmNvbnRlbnQgLm5hbWUsIC50ZXh0XCIsIGZ1bmN0aW9uKCkge1xuXHRcdCQodGhpcykuYXR0cihcImNvbnRlbnRlZGl0YWJsZVwiLFwidHJ1ZVwiKS5mb2N1cygpO1xuXHRcdC8vIGNvbnNvbGUubG9nKCBcIiFcIiApO1xuXHR9KTtcblx0Ly8g57eo6ZuG56K65a6aXG5cdCQoZG9jdW1lbnQpLm9uKFwiYmx1clwiLCBcIi5jb250ZW50IC5uYW1lLCAudGV4dFwiLCBmdW5jdGlvbigpIHtcblx0XHQkKHRoaXMpLmF0dHIoXCJjb250ZW50ZWRpdGFibGVcIixcImZhbHNlXCIpO1xuXHRcdHZhciBkZXRhaWxBcmVhID0gJChcIi5kZXRhaWxcIik7XG5cdFx0YWpheC5wb3N0KHtcblx0XHRcdHVybDogXCIvYXBpL2l0ZW0vdXBkYXRlXCIsXG5cdFx0XHRkYXRhOiB7XG5cdFx0XHRcdGlkOiBJdGVtRGV0YWlsLmxvYWRlZEl0ZW0uaWQsXG5cdFx0XHRcdG5hbWU6IGRldGFpbEFyZWEuZmluZChcImgyLm5hbWVcIikudGV4dCgpLFxuXHRcdFx0XHR0ZXh0OiBkZXRhaWxBcmVhLmZpbmQoXCIudGV4dFwiKS5odG1sKClcblx0XHRcdH0sXG5cdFx0XHRzdWNjZXNzOiBmdW5jdGlvbihpdGVtKSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCBcIi9hcGkvaXRlbS91cGRhdGUgaXRlbTpcIiwgaXRlbSApO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9KTtcbn0pKCk7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy93ZWIvaXRlbV9kZXRhaWwuanNcbiAqKi8iLCIvLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvd2ViL2l0ZW1fZGV0YWlsLnNjc3NcbiAqKiBtb2R1bGUgaWQgPSAxNFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==