webpackJsonp([0,1],[
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	"use strict";
	
	void (function loadLayoutStyle() {
		__webpack_require__(1);
	})();
	
	void (function setGlobalVariables(globals) {
		globals.app = {};
		globals.ajax = __webpack_require__(5);
	})(window);
	
	void (function start() {
		__webpack_require__(6);
		__webpack_require__(7);
		__webpack_require__(8);
		__webpack_require__(11);
		__webpack_require__(12);
		__webpack_require__(13);
	})();
	
	$(document).on("drop", function (e) {
		if (e.preventDefault) {
			e.preventDefault();
		}
		console.log("drop");
	});
	
	$(document).on("dragover", function (e) {
		if (e.preventDefault) {
			e.preventDefault();
		}
		console.log("dragover");
	});

/***/ },
/* 1 */
/***/ function(module, exports) {

	// removed by extract-text-webpack-plugin

/***/ },
/* 2 */,
/* 3 */,
/* 4 */,
/* 5 */
/***/ function(module, exports) {

	"use strict";
	
	module.exports = new JqueryAjax();
	function JqueryAjax() {
		if (this instanceof Window) {
			// throw Error("こらー！newして使ってくださいね");
			return new JqueryAjax();
		}
		var self = this;
		self.get = function (params) {
			return $.ajax({
				async: true,
				cache: false,
				type: "GET",
				dataType: params.dataType || "json",
				url: params.url || "/",
				data: params.data || {},
				context: params.context || document,
				success: params.success || function (data) {
					console.debug(data);
				}
			});
		};
		self.post = function (params) {
			console.debug("ajax.post params:", params);
			var postData = params.data;
	
			var ajaxParams = {
				async: true,
				cache: false,
				type: "post",
				dataType: params.dataType || "json",
				url: params.url || "/",
				data: postData,
				context: params.context || document,
				success: params.success || function (data) {
					console.debug(data);
				},
				xhr: params.xhr || function () {
					var XHR = $.ajaxSettings.xhr();
					if (XHR.upload) {
						XHR.upload.addEventListener('progress', function (e) {
							var progre = parseInt(e.loaded / e.total * 10000) / 100;
							console.debug(progre + "%");
							$("#progress-bar").width(progre + "%");
						}, false);
					}
					return XHR;
				}
			};
	
			// FILEアップロードする場合
			if (params.file || params.files) {
	
				var formData = new FormData();
				if (params.data) {
					Object.keys(params.data).forEach(function (key) {
						formData.append(key, params.data[key]);
					});
				}
				if (params.file) {
					formData.append("file", params.file);
				}
				if (params.files) {
					Object.keys(params.files).forEach(function (key) {
						var file = params.files[key];
						formData.append("files[]", file);
					});
				}
	
				ajaxParams.data = formData;
				ajaxParams.contentType = false; // FormData使う場合、必須
				ajaxParams.processData = false; // FormData使う場合、必須
			}
			var ajax = $.ajax(ajaxParams);
			return ajax;
		};
		self.uploadSingle = function (file, params) {
			params.file = file;
			return self.post(params);
		};
		self.uploadMulti = function (files, params) {
			params.files = files;
			return self.post(params);
		};
	}

/***/ },
/* 6 */
/***/ function(module, exports) {

	"use strict";
	
	app.util = {};
	app.util.objectToHtml = function (obj) {
		var html = "";
		Object.keys(obj).forEach(function (key) {
			html += key + ": " + obj[key] + "<br>";
		});
		return html;
	};
	app.util.autoLink = function (str) {
		if (!str) return str;
		return str.replace(/((http|https|ftp):\/\/[\w?=&.\/-;#~%-]+(?![\w\s?&.\/;#~%"=-]*>))/g, '<a target="_blank" href="$1">$1</a> ');
	};

/***/ },
/* 7 */
/***/ function(module, exports) {

	"use strict";
	
	(function () {
		var itemsArea = document.querySelector(".items");
		var itemsMousetrap = new Mousetrap(itemsArea);
		var pressKey = null;
		// アイテムフォーカス移動系
		itemsMousetrap.bind('up', function (e) {
			pressKey = e.keyIdentifier;
			$(":focus").closest("li").prev().find("a").focus();
		});
		itemsMousetrap.bind('down', function (e) {
			e.preventDefault();
			pressKey = e.keyIdentifier;
			$(":focus").closest("li").next().find("a").focus();
		});
		itemsMousetrap.bind('right', function (e) {
			pressKey = e.keyIdentifier;
			$(":focus").closest("ul").next().find("li a").first().focus();
		});
		itemsMousetrap.bind('left', function (e) {
			pressKey = e.keyIdentifier;
			console.log("left e.keyIdentifier:", e.keyIdentifier);
	
			var item = $(":focus").closest("ul").prev().find("li[selected]");
			if (item.length) {
				// ルートアイテムじゃなければ
				item.find("a").focus();
				var url = item.find("a").attr("href");
				app.ItemDetail.loadContent(url);
			}
		});
		$(document).on("focus", ".items ul li a", function (e) {
			if (pressKey) {
				if (pressKey != "Left") {
					$(this).trigger("click");
				}
				pressKey = null;
			}
		});
		// アイテムフォーカス時DELキー
		itemsMousetrap.bind(['del', 'backspace'], function (e) {
			e.preventDefault();
			var id = $(e.target).attr("item_id");
			console.log(id);
			app.Item.delete(id);
		});
	})();
	
	Mousetrap.bind('tab', function (e) {
		e.preventDefault();
	
		if (app.ItemDetail.loadedItem) {
			// 詳細表示している場合
			var item_id = app.ItemDetail.loadedItem.id;
			$(".items ul .item[item_id=" + item_id + "] a").focus();
		} else {
			// アイテム初期表示状態でtab押した場合
			$(".items ul a").first().focus().trigger("click");
		}
	});

/***/ },
/* 8 */
/***/ function(module, exports, __webpack_require__) {

	"use strict";
	
	__webpack_require__(9);
	
	$(function () {
		var items = new app.Items();
		app.Items.setResizableAction();
		app.Items.setKeyPressAction();
	});
	
	void (function () {
		app.Items = Items;
		function Items() {
			var self = this;
			self.area = $(".items .inner");
			self.setContextMenuEvent();
	
			void (function setInitialState() {
				ajax.get({
					url: "/api/items",
					data: {
						parent_id: null
					},
					success: function success(data) {
						self.addRootItems(data);
						app.ItemDetail.adjustHeight();
					}
				});
			})();
		}
		Items.prototype.setContextMenuEvent = function () {
			// フォルダを右クリックした時
			$(document).on("contextmenu", ".items ul li.folder", function (e) {
				e.preventDefault();
				getSelection().removeAllRanges(); // 選択範囲をすべて解除
	
				var clickedItem = $(this);
				app.Item.add(clickedItem);
				return false;
			});
			// ULを右クリックした時
			$(document).on("contextmenu", ".items ul", function (e) {
				e.preventDefault();
				getSelection().removeAllRanges(); // 選択範囲をすべて解除
				var clickedItem = $(this).prev().find("li[selected]");
				app.Item.add(clickedItem);
			});
		};
		Items.prototype.addRootItems = function (items) {
			this.area.append(new app.ItemList(items));
		};
		Items.setResizableAction = function () {
			$(function () {
				$(".browse").resizable({
					handles: "s",
					stop: function stop(event, ui) {
						// リサイズ完了した時にクッキーに高さを保存
						var h = ui.size.height;
						$.cookie('.items-resized-height', h);
					},
					resize: function resize(event, ui) {
						var h = ui.size.height;
						$(".browse").height(h);
					}
				});
				// クッキーに記憶した高さがあれば調整
				var savedHeight = $.cookie('.items-resized-height');
				if (savedHeight) {
					$(".browse").height(savedHeight);
				}
			});
		};
		Items.setKeyPressAction = function () {};
	})();

/***/ },
/* 9 */
/***/ function(module, exports) {

	// removed by extract-text-webpack-plugin

/***/ },
/* 10 */,
/* 11 */
/***/ function(module, exports) {

	"use strict";
	
	void (function () {
		app.ItemList = ItemList;
		function ItemList(items) {
			return this.buildElement(items);
		}
		ItemList.prototype.buildElement = function (items) {
			var ul = $("<ul>");
			ul.attr("ul_id", $(".items ul").size());
			items.forEach(function (item) {
				var item = new app.Item(item);
				ul.append(item);
			});
			return ul;
		};
	})();

/***/ },
/* 12 */
/***/ function(module, exports) {

	"use strict";
	
	$(function () {
		app.Item.setClickEvent();
		app.Item.setRightClickEvent();
		app.Item.setDnDEvent();
	});
	void (function () {
		app.Item = Item;
		function Item(data) {
			var elem = this.buildElement(data);
			return elem;
		}
		Item.prototype.buildElement = function (data) {
			var name = data.name;
			var id = data.id;
			var type = data.type;
			var span = $("<span>");
			span.addClass("glyphicon").addClass("glyphicon-folder-close");
			var name_span = $("<span class=name>");
			name_span.text(name);
			span.append(name_span);
			var a = $("<a href=/api/item/" + id + " item_id=" + id + " draggable=false>");
			a.append(span);
			var li = $("<li item_id=" + id + " draggable=true>").addClass("item");
			if (type == "folder") {
				li.addClass("folder");
			}
			li.append(a);
			return li;
		};
		Item.add = function (parentItem) {
			var name = "";
			var parent_id = parentItem.attr("item_id");
			if (name = prompt("新規作成します", "新しいアイテム")) {
				ajax.post({
					url: "/api/item/add",
					data: {
						name: name,
						parent_id: parent_id
					},
					success: function success(new_item) {
						parentItem.find("a").trigger("click");
						console.log("ajax item/save data:", new_item);
					}
				});
			}
		};
	
		Item.refresh = function (item) {
			$("[item_id=" + item.id + "]").find(".name").html(item.name);
			console.log("Item.refresh:", item);
		};
	
		app.Item.setClickEvent = function () {
	
			$(document).on("click", ".item a", function (e) {
				e.preventDefault();
				var self = this;
				var clickedItem = $(self).closest("li");
				var clickedUl = $(self).closest("ul");
				var parentItemsArea = $(this).closest(".items");
	
				// コンテンツ読み込み
				var url = $(self).attr("href");
				app.ItemDetail.loadContent(url);
	
				// selectedアイテムにする
				// 他のアイテムはselectedを外す
				clickedUl.find(".item").removeAttr("selected");
				clickedItem.attr("selected", true);
	
				// アイテム背景色を調整
				void (function adjustBgColor() {
					$(this).closest("ul").find("a").css("background-color", "");
					$(this).css("background-color", "#cccccc");
				}).bind(this)();
	
				// 子アイテムを読み込み
				var item_id = $(self).attr("item_id");
				app.Item.loadChildItems(item_id);
			});
		};
	
		app.Item.loadChildItems = function (item_id) {
	
			void (function loadChildItems(item_id) {
				ajax.get({
					url: "/api/items",
					data: {
						parent_id: item_id
					},
					success: function success(items) {
	
						// 自身のフォルダ配下のULを一度削除
						void (function destroyChildItem() {
							var selfUlId = $("a[item_id=" + item_id + "]").closest("ul").attr("ul_id");
							var foundFlag = false;
							$(".items ul").each(function (i) {
								var eachUl = $(this);
								var eachUlId = eachUl.attr("ul_id");
								if (foundFlag) {
									eachUl.remove();
								}
								if (eachUlId == selfUlId) {
									foundFlag = true;
								}
							});
						})();
						// 読み込んだアイテムを追加
						$(".items .inner").append(new app.ItemList(items));
						// UL群の合計幅を.itemsにセット
						void (function setItemsWidth() {
							var width = 0;
							$(".items ul").each(function (ul) {
								width += $(this).outerWidth();
							});
							console.log("total width:", width);
							$(".items .inner").width(width + 10);
						})();
	
						// .itemsエリア内のスクロールを右に寄せる
						$(".items").scrollLeft(9999);
					}
				});
			})(item_id);
		};
	
		app.Item.setDnDEvent = function () {
			var drag_item_id = null;
			var drop_item_id = null;
	
			$(document).on("dragstart", ".items .item", function (e) {
				drag_item_id = $(this).attr("item_id");
				console.log("dragstart");
			});
			$(document).on("dragenter", ".items .item", function (e) {
				drop_item_id = $(this).attr("item_id");
				$(this).addClass("over");
				console.log("dragenter");
			});
			$(document).on("dragleave", ".items .item", function (e) {
				$(this).removeClass("over");
				console.log("dragleave");
			});
			$(document).on("dragend", ".items .item", function (e) {
	
				if (!drop_item_id) {
					console.log("dropしたitem_idがnull、return false");
					return false;
				}
				if (drag_item_id == drop_item_id) {
					console.log("同じIDの為、return false");
					return false;
				}
				(function () {
					var parent_id = drop_item_id;
					var id = drag_item_id;
					ajax.post({
						url: "/api/item/update",
						data: {
							id: id,
							parent_id: parent_id
						},
						success: (function (new_item) {
							$(".item[item_id=" + parent_id + "] a").trigger("click").focus();
							console.log("ajax item/updated_item:", new_item);
							$(this).remove();
						}).bind(this)
					});
				})();
				dragoverStyleReset();
				console.log("dragend");
			});
			function dragoverStyleReset() {
				console.log("dragoverStyleReset.");
				$(".items .item").removeClass("over");
			}
		};
	
		app.Item.setRightClickEvent = function () {};
		app.Item.delete = function (id) {
			ajax.post({
				url: "/api/item/delete",
				data: {
					id: id
				},
				success: function success(deletedCount) {
					// 削除する前にフォーカスを他のアイテムに移動させる
					var target = $(".item[item_id=" + id + "]");
					target.closest("ul").find("a")[0].focus();
					// アイテム削除
					target.remove();
					console.log("del item success.  count:", deletedCount);
				}
			});
		};
	})();

/***/ },
/* 13 */
/***/ function(module, exports, __webpack_require__) {

	"use strict";
	
	__webpack_require__(14);
	
	(function () {
		app.ItemDetail = ItemDetail;
	
		function ItemDetail() {}
	
		ItemDetail.loadedItem = null;
		var doLoadTimer = null;
		ItemDetail.loadContent = function (url) {
			if (doLoadTimer) {
				clearTimeout(doLoadTimer);
			}
			// 指定秒数待ってからリクエスト
			// アイテム移動を繰り返す場合、無駄なリクエストになるため
			doLoadTimer = setTimeout(function () {
				var detailArea = $(".detail");
				ajax.get({
					url: url,
					success: function success(item) {
						ItemDetail.loadedItem = item;
						detailArea.show();
						detailArea.find("h2").text(item.name);
						detailArea.find(".text").html(app.util.autoLink(item.text));
	
						var data = {};
						data.created_at = item.created_at;
						data.updated_at = item.updated_at;
						detailArea.find(".content").html(app.util.objectToHtml(data));
					}
				});
			}, 100);
		};
	
		// 高さ調整
		app.ItemDetail.adjustHeight = function () {
			console.log("header:", $("header").outerHeight());
			console.log(".browse:", $(".browse").outerHeight());
			console.log(".tabs:", $(".tabs").outerHeight());
			console.log("footer:", $("footer").outerHeight());
			console.log("window:", $(window).height());
			var total = $("header").outerHeight() + $(".tabs").outerHeight() + $(".browse").outerHeight() + $("footer").outerHeight();
			console.log({ total: total });
			var h = $(window).height() - total;
			console.log({ setHeight: h });
			$(".detail").outerHeight(h);
		};
		$(function () {
			// ツリー高さ調整時にも調整しないと
			$(".browse").on("resize", function () {
				app.ItemDetail.adjustHeight();
			});
			// ウィンドウリサイズ時にも
			$(window).on("resize", function () {
				app.ItemDetail.adjustHeight();
			});
		});
	
		// 編集モード
		$(document).on("click", ".detail .name, .detail .text", function () {
			$(this).attr("contenteditable", "true").focus();
			console.log("編集モード");
		});
		// 編集確定
		$(document).on("blur", ".detail .name", editEnter);
		$(document).on("blur", ".detail .text", editEnter);
		function editEnter() {
			console.log("編集確定", this);
			$(this).attr("contenteditable", "false");
			var detailArea = $(".detail");
			ajax.post({
				url: "/api/item/update",
				data: {
					id: ItemDetail.loadedItem.id,
					name: detailArea.find("h2.name").text(),
					text: detailArea.find(".text").html()
				},
				success: function success(updatedItem) {
					console.log({ updatedItem: updatedItem });
					app.Item.refresh(updatedItem);
				}
			});
		};
	})();

/***/ },
/* 14 */
/***/ function(module, exports) {

	// removed by extract-text-webpack-plugin

/***/ }
]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvd2ViL2FwcC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvd2ViL2Zvb3Rlci5zY3NzIiwid2VicGFjazovLy8uL3NyYy93ZWIvanF1ZXJ5X2FqYXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3dlYi9hcHAvdXRpbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvd2ViL2tleV9hY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3dlYi9pdGVtcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvd2ViL2l0ZW1zLnNjc3MiLCJ3ZWJwYWNrOi8vLy4vc3JjL3dlYi9pdGVtX2xpc3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3dlYi9pdGVtLmpzIiwid2VicGFjazovLy8uL3NyYy93ZWIvaXRlbV9kZXRhaWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3dlYi9pdGVtX2RldGFpbC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLE1BQUssVUFBUyxlQUFlLEdBQUc7QUFDL0IscUJBQU8sQ0FBQyxDQUFlLENBQUMsQ0FBQztFQUN6QixHQUFFOztBQUVILE1BQUssVUFBUyxrQkFBa0IsQ0FBQyxPQUFPLEVBQUU7QUFDekMsU0FBTyxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUM7QUFDakIsU0FBTyxDQUFDLElBQUksR0FBRyxtQkFBTyxDQUFDLENBQWtCLENBQUM7RUFDMUMsRUFBQyxNQUFNLENBQUMsQ0FBQzs7QUFFVixNQUFLLFVBQVMsS0FBSyxHQUFHO0FBQ3JCLHFCQUFPLENBQUMsQ0FBZSxDQUFDO0FBQ3hCLHFCQUFPLENBQUMsQ0FBaUIsQ0FBQztBQUMxQixxQkFBTyxDQUFDLENBQVksQ0FBQztBQUNyQixxQkFBTyxDQUFDLEVBQWdCLENBQUM7QUFDekIscUJBQU8sQ0FBQyxFQUFXLENBQUM7QUFDcEIscUJBQU8sQ0FBQyxFQUFrQixDQUFDO0VBQzNCLEdBQUUsQ0FBQzs7QUFFSixFQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxD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UyxDQUFDLENBQUM7QUFDOUIsT0FBSSxDQUFDLElBQUksQ0FBQztBQUNULE9BQUcsRUFBRSxrQkFBa0I7QUFDdkIsUUFBSSxFQUFFO0FBQ0wsT0FBRSxFQUFFLFVBQVUsQ0FBQyxVQUFVLENBQUMsRUFBRTtBQUM1QixTQUFJLEVBQUUsVUFBVSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxJQUFJLEVBQUU7QUFDdkMsU0FBSSxFQUFFLFVBQVUsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxFQUFFO0tBQ3JDO0FBQ0QsV0FBTyxFQUFFLGlCQUFTLFdBQVcsRUFBRTtBQUM5QixZQUFPLENBQUMsR0FBRyxDQUFFLEVBQUMsV0FBVyxFQUFYLFdBQVcsRUFBQyxDQUFFLENBQUM7QUFDN0IsUUFBRyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUUsV0FBVyxDQUFFLENBQUM7S0FDaEM7SUFDRCxDQUFDLENBQUM7R0FDSCxDQUFDO0VBQ0YsR0FBRyxDOzs7Ozs7QUN2RkosMEMiLCJmaWxlIjoiamF2YXNjcmlwdHMvbWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZvaWQgZnVuY3Rpb24gbG9hZExheW91dFN0eWxlKCkge1xuXHRyZXF1aXJlKFwiLi9mb290ZXIuc2Nzc1wiKTtcbn0oKVxuXG52b2lkIGZ1bmN0aW9uIHNldEdsb2JhbFZhcmlhYmxlcyhnbG9iYWxzKSB7XG5cdGdsb2JhbHMuYXBwID0ge307XG5cdGdsb2JhbHMuYWpheCA9IHJlcXVpcmUoXCIuL2pxdWVyeV9hamF4LmpzXCIpXG59KHdpbmRvdyk7XG5cbnZvaWQgZnVuY3Rpb24gc3RhcnQoKSB7XG5cdHJlcXVpcmUoXCIuL2FwcC91dGlsLmpzXCIpXG5cdHJlcXVpcmUoXCIuL2tleV9hY3Rpb24uanNcIilcblx0cmVxdWlyZShcIi4vaXRlbXMuanNcIilcblx0cmVxdWlyZShcIi4vaXRlbV9saXN0LmpzXCIpXG5cdHJlcXVpcmUoXCIuL2l0ZW0uanNcIilcblx0cmVxdWlyZShcIi4vaXRlbV9kZXRhaWwuanNcIilcbn0oKTtcblxuJChkb2N1bWVudCkub24oXCJkcm9wXCIsIGZ1bmN0aW9uKGUpIHtcblx0aWYgKCBlLnByZXZlbnREZWZhdWx0ICkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0fVxuXHRjb25zb2xlLmxvZyggXCJkcm9wXCIgKTtcbn0pO1xuXG4kKGRvY3VtZW50KS5vbihcImRyYWdvdmVyXCIsIGZ1bmN0aW9uKGUpIHtcblx0aWYgKCBlLnByZXZlbnREZWZhdWx0ICkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0fVxuXHRjb25zb2xlLmxvZyggXCJkcmFnb3ZlclwiKTtcbn0pO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvd2ViL2FwcC5qc1xuICoqLyIsIi8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy93ZWIvZm9vdGVyLnNjc3NcbiAqKiBtb2R1bGUgaWQgPSAxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IG5ldyBKcXVlcnlBamF4O1xuZnVuY3Rpb24gSnF1ZXJ5QWpheCgpIHtcblx0aWYgKCB0aGlzIGluc3RhbmNlb2YgV2luZG93ICkge1xuXHRcdC8vIHRocm93IEVycm9yKFwi44GT44KJ44O877yBbmV344GX44Gm5L2/44Gj44Gm44GP44Gg44GV44GE44GtXCIpO1xuXHRcdHJldHVybiBuZXcgSnF1ZXJ5QWpheCgpO1xuXHR9XG5cdHZhciBzZWxmID0gdGhpcztcblx0c2VsZi5nZXQgPSBmdW5jdGlvbihwYXJhbXMpIHtcblx0XHRyZXR1cm4gJC5hamF4KHtcblx0XHRcdGFzeW5jICAgIDogdHJ1ZSxcblx0XHRcdGNhY2hlICAgIDogZmFsc2UsXG5cdFx0XHR0eXBlICAgICA6IFwiR0VUXCIsXG5cdFx0XHRkYXRhVHlwZSA6IHBhcmFtcy5kYXRhVHlwZSB8fCBcImpzb25cIixcblx0XHRcdHVybCAgICAgIDogcGFyYW1zLnVybCB8fCBcIi9cIixcblx0XHRcdGRhdGEgICAgIDogcGFyYW1zLmRhdGEgfHwge30sXG5cdFx0XHRjb250ZXh0ICA6IHBhcmFtcy5jb250ZXh0IHx8IGRvY3VtZW50LFxuXHRcdFx0c3VjY2VzcyAgOiBwYXJhbXMuc3VjY2VzcyB8fCBmdW5jdGlvbihkYXRhKXsgY29uc29sZS5kZWJ1ZyggZGF0YSApOyB9XG5cdFx0fSk7XG5cdH1cblx0c2VsZi5wb3N0ID0gZnVuY3Rpb24ocGFyYW1zKSB7XG5cdFx0Y29uc29sZS5kZWJ1ZyggXCJhamF4LnBvc3QgcGFyYW1zOlwiLCBwYXJhbXMgKTtcblx0XHR2YXIgcG9zdERhdGEgPSBwYXJhbXMuZGF0YTtcblx0XHRcblx0XHR2YXIgYWpheFBhcmFtcyA9IHtcblx0XHRcdGFzeW5jICAgIDogdHJ1ZSxcblx0XHRcdGNhY2hlICAgIDogZmFsc2UsXG5cdFx0XHR0eXBlICAgICA6IFwicG9zdFwiLFxuXHRcdFx0ZGF0YVR5cGUgOiBwYXJhbXMuZGF0YVR5cGUgfHwgXCJqc29uXCIsXG5cdFx0XHR1cmwgICAgICA6IHBhcmFtcy51cmwgfHwgXCIvXCIsXG5cdFx0XHRkYXRhICAgICA6IHBvc3REYXRhLFxuXHRcdFx0Y29udGV4dCAgOiBwYXJhbXMuY29udGV4dCB8fCBkb2N1bWVudCxcblx0XHRcdHN1Y2Nlc3MgIDogcGFyYW1zLnN1Y2Nlc3MgfHwgZnVuY3Rpb24oZGF0YSl7IGNvbnNvbGUuZGVidWcoIGRhdGEgKTsgfSxcblx0XHRcdHhociAgICAgIDogcGFyYW1zLnhociB8fCBmdW5jdGlvbigpe1xuXHRcdFx0XHR2YXIgWEhSID0gJC5hamF4U2V0dGluZ3MueGhyKCk7XG5cdFx0XHRcdGlmKCBYSFIudXBsb2FkICl7XG5cdFx0XHRcdFx0WEhSLnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsZnVuY3Rpb24oZSl7XG5cdFx0XHRcdFx0XHR2YXIgcHJvZ3JlID0gcGFyc2VJbnQoIGUubG9hZGVkIC8gZS50b3RhbCAqIDEwMDAwICkgLyAxMDA7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmRlYnVnKHByb2dyZStcIiVcIik7XG5cdFx0XHRcdFx0XHQkKFwiI3Byb2dyZXNzLWJhclwiKS53aWR0aChwcm9ncmUgKyBcIiVcIik7XG5cdFx0XHRcdFx0fSwgZmFsc2UpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBYSFI7XG5cdFx0XHR9XG5cdFx0fTtcblx0XHRcblx0XHQvLyBGSUxF44Ki44OD44OX44Ot44O844OJ44GZ44KL5aC05ZCIXG5cdFx0aWYgKCBwYXJhbXMuZmlsZSB8fCBwYXJhbXMuZmlsZXMgKSB7XG5cdFx0XHRcblx0XHRcdHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuXHRcdFx0aWYgKCBwYXJhbXMuZGF0YSApIHtcblx0XHRcdFx0T2JqZWN0LmtleXMocGFyYW1zLmRhdGEpLmZvckVhY2goZnVuY3Rpb24oa2V5KXtcblx0XHRcdFx0XHRmb3JtRGF0YS5hcHBlbmQoa2V5LCBwYXJhbXMuZGF0YVtrZXldKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIHBhcmFtcy5maWxlICkge1xuXHRcdFx0XHRmb3JtRGF0YS5hcHBlbmQoXCJmaWxlXCIsIHBhcmFtcy5maWxlKTtcblx0XHRcdH1cblx0XHRcdGlmICggcGFyYW1zLmZpbGVzICkge1xuXHRcdFx0XHRPYmplY3Qua2V5cyhwYXJhbXMuZmlsZXMpLmZvckVhY2goZnVuY3Rpb24oa2V5KXtcblx0XHRcdFx0XHR2YXIgZmlsZSA9IHBhcmFtcy5maWxlc1trZXldO1xuXHRcdFx0XHRcdGZvcm1EYXRhLmFwcGVuZChcImZpbGVzW11cIiwgZmlsZSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRhamF4UGFyYW1zLmRhdGEgPSBmb3JtRGF0YTtcblx0XHRcdGFqYXhQYXJhbXMuY29udGVudFR5cGUgPSBmYWxzZTsgLy8gRm9ybURhdGHkvb/jgYbloLTlkIjjgIHlv4XpoIhcblx0XHRcdGFqYXhQYXJhbXMucHJvY2Vzc0RhdGEgPSBmYWxzZTsgLy8gRm9ybURhdGHkvb/jgYbloLTlkIjjgIHlv4XpoIhcblx0XHR9XG5cdFx0dmFyIGFqYXggPSAkLmFqYXgoYWpheFBhcmFtcyk7XG5cdFx0cmV0dXJuIGFqYXg7XG5cdH1cblx0c2VsZi51cGxvYWRTaW5nbGUgPSBmdW5jdGlvbihmaWxlLCBwYXJhbXMpIHtcblx0XHRwYXJhbXMuZmlsZSA9IGZpbGU7XG5cdFx0cmV0dXJuIHNlbGYucG9zdChwYXJhbXMpO1xuXHR9XG5cdHNlbGYudXBsb2FkTXVsdGkgPSBmdW5jdGlvbihmaWxlcywgcGFyYW1zKSB7XG5cdFx0cGFyYW1zLmZpbGVzID0gZmlsZXM7XG5cdFx0cmV0dXJuIHNlbGYucG9zdChwYXJhbXMpO1xuXHR9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy93ZWIvanF1ZXJ5X2FqYXguanNcbiAqKi8iLCJhcHAudXRpbCA9IHt9O1xuYXBwLnV0aWwub2JqZWN0VG9IdG1sID0gZnVuY3Rpb24ob2JqKSB7XG5cdHZhciBodG1sID0gXCJcIjtcblx0T2JqZWN0LmtleXMob2JqKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuXHRcdGh0bWwgKz0ga2V5ICsgXCI6IFwiICsgb2JqW2tleV0gKyBcIjxicj5cIjtcblx0fSk7XG5cdHJldHVybiBodG1sO1xufVxuYXBwLnV0aWwuYXV0b0xpbmsgPSBmdW5jdGlvbihzdHIpIHtcblx0aWYgKCAhIHN0ciApIHJldHVybiBzdHI7XG5cdHJldHVybiBzdHIucmVwbGFjZSgvKChodHRwfGh0dHBzfGZ0cCk6XFwvXFwvW1xcdz89Ji5cXC8tOyN+JS1dKyg/IVtcXHdcXHM/Ji5cXC87I34lXCI9LV0qPikpL2csICc8YSB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwiJDFcIj4kMTwvYT4gJyk7XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy93ZWIvYXBwL3V0aWwuanNcbiAqKi8iLCIoZnVuY3Rpb24oKSB7XG5cdHZhciBpdGVtc0FyZWEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLml0ZW1zXCIpO1xuXHR2YXIgaXRlbXNNb3VzZXRyYXAgPSBuZXcgTW91c2V0cmFwKGl0ZW1zQXJlYSk7XG5cdHZhciBwcmVzc0tleSA9IG51bGw7XG5cdC8vIOOCouOCpOODhuODoOODleOCqeODvOOCq+OCueenu+WLleezu1xuXHRpdGVtc01vdXNldHJhcC5iaW5kKCd1cCcsIGZ1bmN0aW9uKGUpIHtcblx0XHRwcmVzc0tleSA9IGUua2V5SWRlbnRpZmllcjtcblx0XHQkKFwiOmZvY3VzXCIpLmNsb3Nlc3QoXCJsaVwiKS5wcmV2KCkuZmluZChcImFcIikuZm9jdXMoKTtcblx0fSk7XG5cdGl0ZW1zTW91c2V0cmFwLmJpbmQoJ2Rvd24nLCBmdW5jdGlvbihlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdHByZXNzS2V5ID0gZS5rZXlJZGVudGlmaWVyO1xuXHRcdCQoXCI6Zm9jdXNcIikuY2xvc2VzdChcImxpXCIpLm5leHQoKS5maW5kKFwiYVwiKS5mb2N1cygpO1xuXHR9KTtcblx0aXRlbXNNb3VzZXRyYXAuYmluZCgncmlnaHQnLCBmdW5jdGlvbihlKSB7XG5cdFx0cHJlc3NLZXkgPSBlLmtleUlkZW50aWZpZXI7XG5cdFx0JChcIjpmb2N1c1wiKS5jbG9zZXN0KFwidWxcIikubmV4dCgpLmZpbmQoXCJsaSBhXCIpLmZpcnN0KCkuZm9jdXMoKTtcblx0fSk7XG5cdGl0ZW1zTW91c2V0cmFwLmJpbmQoJ2xlZnQnLCBmdW5jdGlvbihlKSB7XG5cdFx0cHJlc3NLZXkgPSBlLmtleUlkZW50aWZpZXI7XG5cdFx0Y29uc29sZS5sb2coIFwibGVmdCBlLmtleUlkZW50aWZpZXI6XCIsIGUua2V5SWRlbnRpZmllciApO1xuXHRcdFxuXHRcdHZhciBpdGVtID0gJChcIjpmb2N1c1wiKS5jbG9zZXN0KFwidWxcIikucHJldigpLmZpbmQoXCJsaVtzZWxlY3RlZF1cIik7XG5cdFx0aWYgKCBpdGVtLmxlbmd0aCApIHtcblx0XHRcdC8vIOODq+ODvOODiOOCouOCpOODhuODoOOBmOOCg+OBquOBkeOCjOOBsFxuXHRcdFx0aXRlbS5maW5kKFwiYVwiKS5mb2N1cygpO1xuXHRcdFx0dmFyIHVybCA9IGl0ZW0uZmluZChcImFcIikuYXR0cihcImhyZWZcIik7XG5cdFx0XHRhcHAuSXRlbURldGFpbC5sb2FkQ29udGVudCh1cmwpO1xuXHRcdH1cblx0fSk7XG5cdCQoZG9jdW1lbnQpLm9uKFwiZm9jdXNcIixcIi5pdGVtcyB1bCBsaSBhXCIsIGZ1bmN0aW9uKGUpIHtcblx0XHRpZiAoIHByZXNzS2V5ICkge1xuXHRcdFx0aWYgKCBwcmVzc0tleSAhPSBcIkxlZnRcIiApIHtcblx0XHRcdFx0JCh0aGlzKS50cmlnZ2VyKFwiY2xpY2tcIik7XG5cdFx0XHR9XG5cdFx0XHRwcmVzc0tleSA9IG51bGw7XG5cdFx0fVxuXHR9KTtcblx0Ly8g44Ki44Kk44OG44Og44OV44Kp44O844Kr44K55pmCREVM44Kt44O8XG5cdGl0ZW1zTW91c2V0cmFwLmJpbmQoWydkZWwnLCdiYWNrc3BhY2UnXSwgZnVuY3Rpb24oZSkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHR2YXIgaWQgPSAkKGUudGFyZ2V0KS5hdHRyKFwiaXRlbV9pZFwiKTtcblx0XHRjb25zb2xlLmxvZyggaWQgKTtcblx0XHRhcHAuSXRlbS5kZWxldGUoaWQpO1xuXHR9KTtcbn0pKCk7XG5cdFxuTW91c2V0cmFwLmJpbmQoJ3RhYicsIGZ1bmN0aW9uKGUpIHtcblx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcblx0aWYgKCBhcHAuSXRlbURldGFpbC5sb2FkZWRJdGVtICkge1xuXHRcdC8vIOips+e0sOihqOekuuOBl+OBpuOBhOOCi+WgtOWQiFxuXHRcdHZhciBpdGVtX2lkID0gYXBwLkl0ZW1EZXRhaWwubG9hZGVkSXRlbS5pZDtcblx0XHQkKFwiLml0ZW1zIHVsIC5pdGVtW2l0ZW1faWQ9XCIrIGl0ZW1faWQgK1wiXSBhXCIpLmZvY3VzKCk7XG5cdH0gZWxzZSB7XG5cdFx0Ly8g44Ki44Kk44OG44Og5Yid5pyf6KGo56S654q25oWL44GndGFi5oq844GX44Gf5aC05ZCIXG5cdFx0JChcIi5pdGVtcyB1bCBhXCIpLmZpcnN0KCkuZm9jdXMoKS50cmlnZ2VyKFwiY2xpY2tcIik7XG5cdH1cbn0pO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvd2ViL2tleV9hY3Rpb24uanNcbiAqKi8iLCJyZXF1aXJlKFwiLi9pdGVtcy5zY3NzXCIpO1xuXG4kKGZ1bmN0aW9uKCkge1xuXHR2YXIgaXRlbXMgPSBuZXcgYXBwLkl0ZW1zKCk7XG5cdGFwcC5JdGVtcy5zZXRSZXNpemFibGVBY3Rpb24oKTtcblx0YXBwLkl0ZW1zLnNldEtleVByZXNzQWN0aW9uKCk7XG59KTtcblxudm9pZCBmdW5jdGlvbigpIHtcblx0YXBwLkl0ZW1zID0gSXRlbXM7XG5cdGZ1bmN0aW9uIEl0ZW1zKCkge1xuXHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRzZWxmLmFyZWEgPSAkKFwiLml0ZW1zIC5pbm5lclwiKTtcblx0XHRzZWxmLnNldENvbnRleHRNZW51RXZlbnQoKTtcblx0XHRcblx0XHR2b2lkIGZ1bmN0aW9uIHNldEluaXRpYWxTdGF0ZSgpIHtcblx0XHRcdGFqYXguZ2V0KHtcblx0XHRcdFx0dXJsOiBcIi9hcGkvaXRlbXNcIixcblx0XHRcdFx0ZGF0YToge1xuXHRcdFx0XHRcdHBhcmVudF9pZDogbnVsbCxcblx0XHRcdFx0fSxcblx0XHRcdFx0c3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuXHRcdFx0XHRcdHNlbGYuYWRkUm9vdEl0ZW1zKGRhdGEpO1xuXHRcdFx0XHRcdGFwcC5JdGVtRGV0YWlsLmFkanVzdEhlaWdodCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9KCk7XG5cdH1cblx0SXRlbXMucHJvdG90eXBlLnNldENvbnRleHRNZW51RXZlbnQgPSBmdW5jdGlvbigpIHtcblx0XHQvLyDjg5Xjgqnjg6vjg4DjgpLlj7Pjgq/jg6rjg4Pjgq/jgZfjgZ/mmYJcblx0XHQkKGRvY3VtZW50KS5vbihcImNvbnRleHRtZW51XCIsIFwiLml0ZW1zIHVsIGxpLmZvbGRlclwiLCBmdW5jdGlvbihlKSB7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRnZXRTZWxlY3Rpb24oKS5yZW1vdmVBbGxSYW5nZXMoKTsgLy8g6YG45oqe56+E5Zuy44KS44GZ44G544Gm6Kej6ZmkXG5cdFx0XHRcblx0XHRcdHZhciBjbGlja2VkSXRlbSA9ICQodGhpcyk7XG5cdFx0XHRhcHAuSXRlbS5hZGQoY2xpY2tlZEl0ZW0pO1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH0pO1xuXHRcdC8vIFVM44KS5Y+z44Kv44Oq44OD44Kv44GX44Gf5pmCXG5cdFx0JChkb2N1bWVudCkub24oXCJjb250ZXh0bWVudVwiLCBcIi5pdGVtcyB1bFwiLCBmdW5jdGlvbihlKSB7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRnZXRTZWxlY3Rpb24oKS5yZW1vdmVBbGxSYW5nZXMoKTsgLy8g6YG45oqe56+E5Zuy44KS44GZ44G544Gm6Kej6ZmkXG5cdFx0XHR2YXIgY2xpY2tlZEl0ZW0gPSAkKHRoaXMpLnByZXYoKS5maW5kKFwibGlbc2VsZWN0ZWRdXCIpO1xuXHRcdFx0YXBwLkl0ZW0uYWRkKGNsaWNrZWRJdGVtKTtcblx0XHR9KTtcblx0fVxuXHRJdGVtcy5wcm90b3R5cGUuYWRkUm9vdEl0ZW1zID0gZnVuY3Rpb24oaXRlbXMpIHtcblx0XHR0aGlzLmFyZWEuYXBwZW5kKG5ldyBhcHAuSXRlbUxpc3QoaXRlbXMpKTtcblx0fVxuXHRJdGVtcy5zZXRSZXNpemFibGVBY3Rpb24gPSBmdW5jdGlvbigpIHtcblx0XHQkKGZ1bmN0aW9uKCkge1xuXHRcdFx0JChcIi5icm93c2VcIikucmVzaXphYmxlKHtcblx0XHRcdFx0aGFuZGxlczogXCJzXCIsXG5cdFx0XHRcdHN0b3A6IGZ1bmN0aW9uKCBldmVudCwgdWkgKSB7XG5cdFx0XHRcdFx0Ly8g44Oq44K144Kk44K65a6M5LqG44GX44Gf5pmC44Gr44Kv44OD44Kt44O844Gr6auY44GV44KS5L+d5a2YXG5cdFx0XHRcdFx0dmFyIGggPSB1aS5zaXplLmhlaWdodDtcblx0XHRcdFx0XHQkLmNvb2tpZSgnLml0ZW1zLXJlc2l6ZWQtaGVpZ2h0JywgaCk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHJlc2l6ZTogZnVuY3Rpb24oIGV2ZW50LCB1aSApIHtcblx0XHRcdFx0XHR2YXIgaCA9IHVpLnNpemUuaGVpZ2h0O1xuXHRcdFx0XHRcdCQoXCIuYnJvd3NlXCIpLmhlaWdodChoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHQvLyDjgq/jg4Pjgq3jg7zjgavoqJjmhrbjgZfjgZ/pq5jjgZXjgYzjgYLjgozjgbDoqr/mlbRcblx0XHRcdHZhciBzYXZlZEhlaWdodCA9ICQuY29va2llKCcuaXRlbXMtcmVzaXplZC1oZWlnaHQnKTtcblx0XHRcdGlmICggc2F2ZWRIZWlnaHQgKSB7XG5cdFx0XHRcdCQoXCIuYnJvd3NlXCIpLmhlaWdodChzYXZlZEhlaWdodCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblx0SXRlbXMuc2V0S2V5UHJlc3NBY3Rpb24gPSBmdW5jdGlvbigpIHtcblx0XHRcblx0fVxufSgpO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvd2ViL2l0ZW1zLmpzXG4gKiovIiwiLy8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vc3JjL3dlYi9pdGVtcy5zY3NzXG4gKiogbW9kdWxlIGlkID0gOVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidm9pZCBmdW5jdGlvbigpIHtcblx0YXBwLkl0ZW1MaXN0ID0gSXRlbUxpc3Q7XG5cdGZ1bmN0aW9uIEl0ZW1MaXN0KGl0ZW1zKSB7XG5cdFx0cmV0dXJuIHRoaXMuYnVpbGRFbGVtZW50KGl0ZW1zKTtcblx0fVxuXHRJdGVtTGlzdC5wcm90b3R5cGUuYnVpbGRFbGVtZW50ID0gZnVuY3Rpb24oaXRlbXMpIHtcblx0XHR2YXIgdWwgPSAkKFwiPHVsPlwiKTtcblx0XHR1bC5hdHRyKFwidWxfaWRcIiwgJChcIi5pdGVtcyB1bFwiKS5zaXplKCkgKTtcblx0XHRpdGVtcy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcblx0XHRcdHZhciBpdGVtID0gbmV3IGFwcC5JdGVtKGl0ZW0pO1xuXHRcdFx0dWwuYXBwZW5kKGl0ZW0pO1xuXHRcdH0pO1xuXHRcdHJldHVybiB1bDtcblx0fVxufSgpO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvd2ViL2l0ZW1fbGlzdC5qc1xuICoqLyIsIiQoZnVuY3Rpb24oKSB7XG5cdGFwcC5JdGVtLnNldENsaWNrRXZlbnQoKTtcblx0YXBwLkl0ZW0uc2V0UmlnaHRDbGlja0V2ZW50KCk7XG5cdGFwcC5JdGVtLnNldERuREV2ZW50KCk7XG59KTtcbnZvaWQgZnVuY3Rpb24oKSB7XG5cdGFwcC5JdGVtID0gSXRlbTtcblx0ZnVuY3Rpb24gSXRlbShkYXRhKSB7XG5cdFx0dmFyIGVsZW0gPSB0aGlzLmJ1aWxkRWxlbWVudChkYXRhKTtcblx0XHRyZXR1cm4gZWxlbTtcblx0fVxuXHRJdGVtLnByb3RvdHlwZS5idWlsZEVsZW1lbnQgPSBmdW5jdGlvbihkYXRhKSB7XG5cdFx0dmFyIG5hbWUgPSBkYXRhLm5hbWU7XG5cdFx0dmFyIGlkID0gZGF0YS5pZDtcblx0XHR2YXIgdHlwZSA9IGRhdGEudHlwZTtcblx0XHR2YXIgc3BhbiA9ICQoXCI8c3Bhbj5cIik7XG5cdFx0c3Bhbi5hZGRDbGFzcyhcImdseXBoaWNvblwiKS5hZGRDbGFzcyhcImdseXBoaWNvbi1mb2xkZXItY2xvc2VcIik7XG5cdFx0dmFyIG5hbWVfc3BhbiA9ICQoXCI8c3BhbiBjbGFzcz1uYW1lPlwiKTtcblx0XHRuYW1lX3NwYW4udGV4dChuYW1lKTtcblx0XHRzcGFuLmFwcGVuZChuYW1lX3NwYW4pO1xuXHRcdHZhciBhID0gJChcIjxhIGhyZWY9L2FwaS9pdGVtL1wiICsgaWQgKyBcIiBpdGVtX2lkPVwiICsgaWQgKyBcIiBkcmFnZ2FibGU9ZmFsc2U+XCIpO1xuXHRcdGEuYXBwZW5kKHNwYW4pO1xuXHRcdHZhciBsaSA9ICQoXCI8bGkgaXRlbV9pZD1cIisgaWQgK1wiIGRyYWdnYWJsZT10cnVlPlwiKS5hZGRDbGFzcyhcIml0ZW1cIik7XG5cdFx0aWYgKCB0eXBlID09IFwiZm9sZGVyXCIgKSB7XG5cdFx0XHRsaS5hZGRDbGFzcyhcImZvbGRlclwiKTtcblx0XHR9XG5cdFx0bGkuYXBwZW5kKGEpO1xuXHRcdHJldHVybiBsaTtcblx0fVxuXHRJdGVtLmFkZCA9IGZ1bmN0aW9uKHBhcmVudEl0ZW0pIHtcblx0XHR2YXIgbmFtZSA9IFwiXCI7XG5cdFx0dmFyIHBhcmVudF9pZCA9IHBhcmVudEl0ZW0uYXR0cihcIml0ZW1faWRcIik7XG5cdFx0aWYgKCBuYW1lID0gcHJvbXB0KFwi5paw6KaP5L2c5oiQ44GX44G+44GZXCIsIFwi5paw44GX44GE44Ki44Kk44OG44OgXCIpICkge1xuXHRcdFx0YWpheC5wb3N0KHtcblx0XHRcdFx0dXJsOiBcIi9hcGkvaXRlbS9hZGRcIixcblx0XHRcdFx0ZGF0YToge1xuXHRcdFx0XHRcdG5hbWU6IG5hbWUsXG5cdFx0XHRcdFx0cGFyZW50X2lkOiBwYXJlbnRfaWRcblx0XHRcdFx0fSxcblx0XHRcdFx0c3VjY2VzczogZnVuY3Rpb24obmV3X2l0ZW0pIHtcblx0XHRcdFx0XHRwYXJlbnRJdGVtLmZpbmQoXCJhXCIpLnRyaWdnZXIoXCJjbGlja1wiKTtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyggXCJhamF4IGl0ZW0vc2F2ZSBkYXRhOlwiLCBuZXdfaXRlbSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cdH07XG5cdFxuXHRJdGVtLnJlZnJlc2ggPSBmdW5jdGlvbihpdGVtKSB7XG5cdFx0JChcIltpdGVtX2lkPVwiKyBpdGVtLmlkICtcIl1cIikuZmluZChcIi5uYW1lXCIpLmh0bWwoIGl0ZW0ubmFtZSApO1xuXHRcdGNvbnNvbGUubG9nKCBcIkl0ZW0ucmVmcmVzaDpcIiwgaXRlbSApO1xuXHR9XG5cdFxuXHRhcHAuSXRlbS5zZXRDbGlja0V2ZW50ID0gZnVuY3Rpb24oKSB7XG5cdFx0XG5cdFx0JChkb2N1bWVudCkub24oXCJjbGlja1wiLCBcIi5pdGVtIGFcIiwgZnVuY3Rpb24oZSkge1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0dmFyIGNsaWNrZWRJdGVtID0gJChzZWxmKS5jbG9zZXN0KFwibGlcIik7XG5cdFx0XHR2YXIgY2xpY2tlZFVsID0gJChzZWxmKS5jbG9zZXN0KFwidWxcIik7XG5cdFx0XHR2YXIgcGFyZW50SXRlbXNBcmVhID0gJCh0aGlzKS5jbG9zZXN0KFwiLml0ZW1zXCIpO1xuXHRcdFx0XG5cdFx0XHQvLyDjgrPjg7Pjg4bjg7Pjg4Toqq3jgb/ovrzjgb9cblx0XHRcdHZhciB1cmwgPSAkKHNlbGYpLmF0dHIoXCJocmVmXCIpO1xuXHRcdFx0YXBwLkl0ZW1EZXRhaWwubG9hZENvbnRlbnQodXJsKTtcblx0XHRcdFxuXHRcdFx0Ly8gc2VsZWN0ZWTjgqLjgqTjg4bjg6DjgavjgZnjgotcblx0XHRcdC8vIOS7luOBruOCouOCpOODhuODoOOBr3NlbGVjdGVk44KS5aSW44GZXG5cdFx0XHRjbGlja2VkVWwuZmluZChcIi5pdGVtXCIpLnJlbW92ZUF0dHIoXCJzZWxlY3RlZFwiKTtcblx0XHRcdGNsaWNrZWRJdGVtLmF0dHIoXCJzZWxlY3RlZFwiLCB0cnVlKTtcblx0XHRcdFxuXHRcdFx0Ly8g44Ki44Kk44OG44Og6IOM5pmv6Imy44KS6Kq/5pW0XG5cdFx0XHR2b2lkIGZ1bmN0aW9uIGFkanVzdEJnQ29sb3IoKSB7XG5cdFx0XHRcdCQodGhpcykuY2xvc2VzdChcInVsXCIpLmZpbmQoXCJhXCIpLmNzcyhcImJhY2tncm91bmQtY29sb3JcIiwgXCJcIik7XG5cdFx0XHRcdCQodGhpcykuY3NzKFwiYmFja2dyb3VuZC1jb2xvclwiLFwiI2NjY2NjY1wiKTtcblx0XHRcdH0uYmluZCh0aGlzKSgpO1xuXHRcdFx0XG5cdFx0XHQvLyDlrZDjgqLjgqTjg4bjg6DjgpLoqq3jgb/ovrzjgb9cblx0XHRcdHZhciBpdGVtX2lkID0gJChzZWxmKS5hdHRyKFwiaXRlbV9pZFwiKTtcblx0XHRcdGFwcC5JdGVtLmxvYWRDaGlsZEl0ZW1zKGl0ZW1faWQpO1xuXHRcdH0pO1xuXHR9XG5cdFxuXHRhcHAuSXRlbS5sb2FkQ2hpbGRJdGVtcyA9IGZ1bmN0aW9uKGl0ZW1faWQpIHtcblx0XHRcblx0XHR2b2lkIGZ1bmN0aW9uIGxvYWRDaGlsZEl0ZW1zKGl0ZW1faWQpIHtcblx0XHRcdGFqYXguZ2V0KHtcblx0XHRcdFx0dXJsOiBcIi9hcGkvaXRlbXNcIixcblx0XHRcdFx0ZGF0YToge1xuXHRcdFx0XHRcdHBhcmVudF9pZDogaXRlbV9pZFxuXHRcdFx0XHR9LFxuXHRcdFx0XHRzdWNjZXNzOiBmdW5jdGlvbihpdGVtcykge1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdC8vIOiHqui6q+OBruODleOCqeODq+ODgOmFjeS4i+OBrlVM44KS5LiA5bqm5YmK6ZmkXG5cdFx0XHRcdFx0dm9pZCBmdW5jdGlvbiBkZXN0cm95Q2hpbGRJdGVtKCkge1xuXHRcdFx0XHRcdFx0dmFyIHNlbGZVbElkID0gJChcImFbaXRlbV9pZD1cIisgaXRlbV9pZCArXCJdXCIpLmNsb3Nlc3QoXCJ1bFwiKS5hdHRyKFwidWxfaWRcIik7XG5cdFx0XHRcdFx0XHR2YXIgZm91bmRGbGFnID0gZmFsc2U7XG5cdFx0XHRcdFx0XHQkKFwiLml0ZW1zIHVsXCIpLmVhY2goZnVuY3Rpb24oaSkge1xuXHRcdFx0XHRcdFx0XHR2YXIgZWFjaFVsID0gJCh0aGlzKTtcblx0XHRcdFx0XHRcdFx0dmFyIGVhY2hVbElkID0gZWFjaFVsLmF0dHIoXCJ1bF9pZFwiKTtcblx0XHRcdFx0XHRcdFx0aWYgKCBmb3VuZEZsYWcgKSB7XG5cdFx0XHRcdFx0XHRcdFx0ZWFjaFVsLnJlbW92ZSgpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdGlmICggZWFjaFVsSWQgPT0gc2VsZlVsSWQgKSB7XG5cdFx0XHRcdFx0XHRcdFx0Zm91bmRGbGFnID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSgpO1xuXHRcdFx0XHRcdC8vIOiqreOBv+i+vOOCk+OBoOOCouOCpOODhuODoOOCkui/veWKoFxuXHRcdFx0XHRcdCQoXCIuaXRlbXMgLmlubmVyXCIpLmFwcGVuZChuZXcgYXBwLkl0ZW1MaXN0KGl0ZW1zKSk7XG5cdFx0XHRcdFx0Ly8gVUznvqTjga7lkIjoqIjluYXjgpIuaXRlbXPjgavjgrvjg4Pjg4hcblx0XHRcdFx0XHR2b2lkIGZ1bmN0aW9uIHNldEl0ZW1zV2lkdGgoKSB7XG5cdFx0XHRcdFx0XHR2YXIgd2lkdGggPSAwO1xuXHRcdFx0XHRcdFx0JChcIi5pdGVtcyB1bFwiKS5lYWNoKGZ1bmN0aW9uKHVsKSB7XG5cdFx0XHRcdFx0XHRcdHdpZHRoICs9ICQodGhpcykub3V0ZXJXaWR0aCgpO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyggXCJ0b3RhbCB3aWR0aDpcIiwgd2lkdGggKTtcblx0XHRcdFx0XHRcdCQoXCIuaXRlbXMgLmlubmVyXCIpLndpZHRoKHdpZHRoKzEwKTtcblx0XHRcdFx0XHR9KCk7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0Ly8gLml0ZW1z44Ko44Oq44Ki5YaF44Gu44K544Kv44Ot44O844Or44KS5Y+z44Gr5a+E44Gb44KLXG5cdFx0XHRcdFx0JChcIi5pdGVtc1wiKS5zY3JvbGxMZWZ0KCA5OTk5IClcblx0XHRcdFx0XHRcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fShpdGVtX2lkKTtcblx0fVxuXG5cdGFwcC5JdGVtLnNldERuREV2ZW50ID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGRyYWdfaXRlbV9pZCA9IG51bGw7XG5cdFx0dmFyIGRyb3BfaXRlbV9pZCA9IG51bGw7XG5cdFx0XG5cdFx0JChkb2N1bWVudCkub24oXCJkcmFnc3RhcnRcIiwgXCIuaXRlbXMgLml0ZW1cIiwgZnVuY3Rpb24oZSkge1xuXHRcdFx0ZHJhZ19pdGVtX2lkID0gJCh0aGlzKS5hdHRyKFwiaXRlbV9pZFwiKTtcblx0XHRcdGNvbnNvbGUubG9nKCBcImRyYWdzdGFydFwiICk7XG5cdFx0fSk7XG5cdFx0JChkb2N1bWVudCkub24oXCJkcmFnZW50ZXJcIiwgXCIuaXRlbXMgLml0ZW1cIiwgZnVuY3Rpb24oZSkge1xuXHRcdFx0ZHJvcF9pdGVtX2lkID0gJCh0aGlzKS5hdHRyKFwiaXRlbV9pZFwiKTtcblx0XHRcdCQodGhpcykuYWRkQ2xhc3MoXCJvdmVyXCIpO1xuXHRcdFx0Y29uc29sZS5sb2coIFwiZHJhZ2VudGVyXCIgKTtcblx0XHR9KTtcblx0XHQkKGRvY3VtZW50KS5vbihcImRyYWdsZWF2ZVwiLCBcIi5pdGVtcyAuaXRlbVwiLCBmdW5jdGlvbihlKSB7XG5cdFx0XHQkKHRoaXMpLnJlbW92ZUNsYXNzKFwib3ZlclwiKTtcblx0XHRcdGNvbnNvbGUubG9nKCBcImRyYWdsZWF2ZVwiICk7XG5cdFx0fSk7XG5cdFx0JChkb2N1bWVudCkub24oXCJkcmFnZW5kXCIsIFwiLml0ZW1zIC5pdGVtXCIsIGZ1bmN0aW9uKGUpIHtcblx0XHRcdFxuXHRcdFx0aWYgKCAhIGRyb3BfaXRlbV9pZCApIHtcblx0XHRcdFx0Y29uc29sZS5sb2coIFwiZHJvcOOBl+OBn2l0ZW1faWTjgYxudWxs44CBcmV0dXJuIGZhbHNlXCIgKTtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCBkcmFnX2l0ZW1faWQgPT0gZHJvcF9pdGVtX2lkICkge1xuXHRcdFx0XHRjb25zb2xlLmxvZyggXCLlkIzjgZhJROOBrueCuuOAgXJldHVybiBmYWxzZVwiICk7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHRcdChmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIHBhcmVudF9pZCA9IGRyb3BfaXRlbV9pZDtcblx0XHRcdFx0dmFyIGlkID0gZHJhZ19pdGVtX2lkO1xuXHRcdFx0XHRhamF4LnBvc3Qoe1xuXHRcdFx0XHRcdHVybDogXCIvYXBpL2l0ZW0vdXBkYXRlXCIsXG5cdFx0XHRcdFx0ZGF0YToge1xuXHRcdFx0XHRcdFx0aWQ6IGlkLFxuXHRcdFx0XHRcdFx0cGFyZW50X2lkOiBwYXJlbnRfaWRcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uKG5ld19pdGVtKSB7XG5cdFx0XHRcdFx0XHQkKFwiLml0ZW1baXRlbV9pZD1cIisgcGFyZW50X2lkICtcIl0gYVwiKS50cmlnZ2VyKFwiY2xpY2tcIikuZm9jdXMoKTtcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCBcImFqYXggaXRlbS91cGRhdGVkX2l0ZW06XCIsIG5ld19pdGVtICk7XG5cdFx0XHRcdFx0XHQkKHRoaXMpLnJlbW92ZSgpO1xuXHRcdFx0XHRcdH0uYmluZCh0aGlzKVxuXHRcdFx0XHR9KTtcblx0XHRcdH0pKCk7XG5cdFx0XHRkcmFnb3ZlclN0eWxlUmVzZXQoKTtcblx0XHRcdGNvbnNvbGUubG9nKCBcImRyYWdlbmRcIiApO1xuXHRcdH0pO1xuXHRcdGZ1bmN0aW9uIGRyYWdvdmVyU3R5bGVSZXNldCgpIHtcblx0XHRcdGNvbnNvbGUubG9nKFwiZHJhZ292ZXJTdHlsZVJlc2V0LlwiKTtcblx0XHRcdCQoXCIuaXRlbXMgLml0ZW1cIikucmVtb3ZlQ2xhc3MoXCJvdmVyXCIpO1xuXHRcdH1cblx0fVxuXHRcblx0YXBwLkl0ZW0uc2V0UmlnaHRDbGlja0V2ZW50ID0gZnVuY3Rpb24oKSB7XG5cdFx0XG5cdH1cblx0YXBwLkl0ZW0uZGVsZXRlID0gZnVuY3Rpb24oaWQpIHtcblx0XHRhamF4LnBvc3Qoe1xuXHRcdFx0dXJsOiBcIi9hcGkvaXRlbS9kZWxldGVcIixcblx0XHRcdGRhdGE6IHtcblx0XHRcdFx0aWQ6IGlkLFxuXHRcdFx0fSxcblx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uKGRlbGV0ZWRDb3VudCkge1xuXHRcdFx0XHQvLyDliYrpmaTjgZnjgovliY3jgavjg5Xjgqnjg7zjgqvjgrnjgpLku5bjga7jgqLjgqTjg4bjg6Djgavnp7vli5XjgZXjgZvjgotcblx0XHRcdFx0dmFyIHRhcmdldCA9ICQoXCIuaXRlbVtpdGVtX2lkPVwiK2lkK1wiXVwiKTtcblx0XHRcdFx0dGFyZ2V0LmNsb3Nlc3QoXCJ1bFwiKS5maW5kKFwiYVwiKVswXS5mb2N1cygpO1xuXHRcdFx0XHQvLyDjgqLjgqTjg4bjg6DliYrpmaRcblx0XHRcdFx0dGFyZ2V0LnJlbW92ZSgpO1xuXHRcdFx0XHRjb25zb2xlLmxvZyggXCJkZWwgaXRlbSBzdWNjZXNzLiAgY291bnQ6XCIsIGRlbGV0ZWRDb3VudCApO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cdFxufSgpO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvd2ViL2l0ZW0uanNcbiAqKi8iLCJyZXF1aXJlKFwiLi9pdGVtX2RldGFpbC5zY3NzXCIpO1xuXG4oZnVuY3Rpb24oKSB7XG5cdGFwcC5JdGVtRGV0YWlsID0gSXRlbURldGFpbDtcblx0XG5cdGZ1bmN0aW9uIEl0ZW1EZXRhaWwoKSB7XG5cdH1cblx0XG5cdEl0ZW1EZXRhaWwubG9hZGVkSXRlbSA9IG51bGw7XG5cdHZhciBkb0xvYWRUaW1lciA9IG51bGw7XG5cdEl0ZW1EZXRhaWwubG9hZENvbnRlbnQgPSBmdW5jdGlvbih1cmwpIHtcblx0XHRpZiAoIGRvTG9hZFRpbWVyICkge1xuXHRcdFx0Y2xlYXJUaW1lb3V0KGRvTG9hZFRpbWVyKTtcblx0XHR9XG5cdFx0Ly8g5oyH5a6a56eS5pWw5b6F44Gj44Gm44GL44KJ44Oq44Kv44Ko44K544OIXG5cdFx0Ly8g44Ki44Kk44OG44Og56e75YuV44KS57mw44KK6L+U44GZ5aC05ZCI44CB54Sh6aeE44Gq44Oq44Kv44Ko44K544OI44Gr44Gq44KL44Gf44KBXG5cdFx0ZG9Mb2FkVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGRldGFpbEFyZWEgPSAkKFwiLmRldGFpbFwiKTtcblx0XHRcdGFqYXguZ2V0KHtcblx0XHRcdFx0dXJsOiB1cmwsXG5cdFx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uKGl0ZW0pIHtcblx0XHRcdFx0XHRJdGVtRGV0YWlsLmxvYWRlZEl0ZW0gPSBpdGVtO1xuXHRcdFx0XHRcdGRldGFpbEFyZWEuc2hvdygpO1xuXHRcdFx0XHRcdGRldGFpbEFyZWEuZmluZChcImgyXCIpLnRleHQoaXRlbS5uYW1lKTtcblx0XHRcdFx0XHRkZXRhaWxBcmVhLmZpbmQoXCIudGV4dFwiKS5odG1sKCBhcHAudXRpbC5hdXRvTGluayhpdGVtLnRleHQpICk7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0dmFyIGRhdGEgPSB7fTtcblx0XHRcdFx0XHRkYXRhLmNyZWF0ZWRfYXQgPSBpdGVtLmNyZWF0ZWRfYXQ7XG5cdFx0XHRcdFx0ZGF0YS51cGRhdGVkX2F0ID0gaXRlbS51cGRhdGVkX2F0O1xuXHRcdFx0XHRcdGRldGFpbEFyZWEuZmluZChcIi5jb250ZW50XCIpLmh0bWwoIGFwcC51dGlsLm9iamVjdFRvSHRtbChkYXRhKSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9LCAxMDApO1xuXHR9XG5cdFxuXHQvLyDpq5jjgZXoqr/mlbRcblx0YXBwLkl0ZW1EZXRhaWwuYWRqdXN0SGVpZ2h0ID0gZnVuY3Rpb24oKSB7XG5cdFx0Y29uc29sZS5sb2coIFwiaGVhZGVyOlwiLCAkKFwiaGVhZGVyXCIpLm91dGVySGVpZ2h0KCkgKTtcblx0XHRjb25zb2xlLmxvZyggXCIuYnJvd3NlOlwiLCAkKFwiLmJyb3dzZVwiKS5vdXRlckhlaWdodCgpICk7XG5cdFx0Y29uc29sZS5sb2coIFwiLnRhYnM6XCIsICQoXCIudGFic1wiKS5vdXRlckhlaWdodCgpICk7XG5cdFx0Y29uc29sZS5sb2coIFwiZm9vdGVyOlwiLCAkKFwiZm9vdGVyXCIpLm91dGVySGVpZ2h0KCkgKTtcblx0XHRjb25zb2xlLmxvZyggXCJ3aW5kb3c6XCIsICQod2luZG93KS5oZWlnaHQoKSApO1xuXHRcdHZhciB0b3RhbCA9ICQoXCJoZWFkZXJcIikub3V0ZXJIZWlnaHQoKVxuXHRcdFx0KyAkKFwiLnRhYnNcIikub3V0ZXJIZWlnaHQoKVxuXHRcdFx0KyAkKFwiLmJyb3dzZVwiKS5vdXRlckhlaWdodCgpXG5cdFx0XHQrICQoXCJmb290ZXJcIikub3V0ZXJIZWlnaHQoKVxuXHRcdGNvbnNvbGUubG9nKCB7dG90YWx9ICk7XG5cdFx0dmFyIGggPSAkKHdpbmRvdykuaGVpZ2h0KCkgLSB0b3RhbDtcblx0XHRjb25zb2xlLmxvZygge3NldEhlaWdodDogaH0gKTtcblx0XHQkKFwiLmRldGFpbFwiKS5vdXRlckhlaWdodCggaCApO1xuXHR9XG5cdCQoZnVuY3Rpb24oKSB7XG5cdFx0Ly8g44OE44Oq44O86auY44GV6Kq/5pW05pmC44Gr44KC6Kq/5pW044GX44Gq44GE44GoXG5cdFx0JChcIi5icm93c2VcIikub24oXCJyZXNpemVcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRhcHAuSXRlbURldGFpbC5hZGp1c3RIZWlnaHQoKTtcblx0XHR9KTtcblx0XHQvLyDjgqbjgqPjg7Pjg4njgqbjg6rjgrXjgqTjgrrmmYLjgavjgoJcblx0XHQkKHdpbmRvdykub24oXCJyZXNpemVcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRhcHAuSXRlbURldGFpbC5hZGp1c3RIZWlnaHQoKTtcblx0XHR9KTtcblx0fSk7XG5cdFxuXHQvLyDnt6jpm4bjg6Ljg7zjg4lcblx0JChkb2N1bWVudCkub24oXCJjbGlja1wiLCBcIi5kZXRhaWwgLm5hbWUsIC5kZXRhaWwgLnRleHRcIiwgZnVuY3Rpb24oKSB7XG5cdFx0JCh0aGlzKS5hdHRyKFwiY29udGVudGVkaXRhYmxlXCIsXCJ0cnVlXCIpLmZvY3VzKCk7XG5cdFx0Y29uc29sZS5sb2coIFwi57eo6ZuG44Oi44O844OJXCIgKTtcblx0fSk7XG5cdC8vIOe3qOmbhueiuuWumlxuXHQkKGRvY3VtZW50KS5vbihcImJsdXJcIiwgXCIuZGV0YWlsIC5uYW1lXCIsIGVkaXRFbnRlcik7XG5cdCQoZG9jdW1lbnQpLm9uKFwiYmx1clwiLCBcIi5kZXRhaWwgLnRleHRcIiwgZWRpdEVudGVyKTtcblx0ZnVuY3Rpb24gZWRpdEVudGVyKCkge1xuXHRcdGNvbnNvbGUubG9nKCBcIue3qOmbhueiuuWumlwiLCB0aGlzICk7XG5cdFx0JCh0aGlzKS5hdHRyKFwiY29udGVudGVkaXRhYmxlXCIsXCJmYWxzZVwiKTtcblx0XHR2YXIgZGV0YWlsQXJlYSA9ICQoXCIuZGV0YWlsXCIpO1xuXHRcdGFqYXgucG9zdCh7XG5cdFx0XHR1cmw6IFwiL2FwaS9pdGVtL3VwZGF0ZVwiLFxuXHRcdFx0ZGF0YToge1xuXHRcdFx0XHRpZDogSXRlbURldGFpbC5sb2FkZWRJdGVtLmlkLFxuXHRcdFx0XHRuYW1lOiBkZXRhaWxBcmVhLmZpbmQoXCJoMi5uYW1lXCIpLnRleHQoKSxcblx0XHRcdFx0dGV4dDogZGV0YWlsQXJlYS5maW5kKFwiLnRleHRcIikuaHRtbCgpXG5cdFx0XHR9LFxuXHRcdFx0c3VjY2VzczogZnVuY3Rpb24odXBkYXRlZEl0ZW0pIHtcblx0XHRcdFx0Y29uc29sZS5sb2coIHt1cGRhdGVkSXRlbX0gKTtcblx0XHRcdFx0YXBwLkl0ZW0ucmVmcmVzaCggdXBkYXRlZEl0ZW0gKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fTtcbn0pKCk7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy93ZWIvaXRlbV9kZXRhaWwuanNcbiAqKi8iLCIvLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvd2ViL2l0ZW1fZGV0YWlsLnNjc3NcbiAqKiBtb2R1bGUgaWQgPSAxNFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==