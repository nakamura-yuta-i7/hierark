webpackJsonp([0,1],[
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	"use strict";
	
	void (function loadLayoutStyle() {
		__webpack_require__(1);
	})();
	
	void (function setGlobalVariables(globals) {
		globals.app = {};
		globals.ajax = __webpack_require__(5);
	})(window);
	
	void (function start() {
		__webpack_require__(6);
		__webpack_require__(7);
		__webpack_require__(8);
		__webpack_require__(9);
		__webpack_require__(10);
		__webpack_require__(11);
	})();
	
	$(document).on("drop", function (e) {
		if (e.preventDefault) {
			e.preventDefault();
		}
		console.log("drop");
	});
	
	$(document).on("dragover", function (e) {
		if (e.preventDefault) {
			e.preventDefault();
		}
		console.log("dragover");
	});

/***/ },
/* 1 */
/***/ function(module, exports) {

	// removed by extract-text-webpack-plugin

/***/ },
/* 2 */,
/* 3 */,
/* 4 */,
/* 5 */
/***/ function(module, exports) {

	"use strict";
	
	module.exports = new JqueryAjax();
	function JqueryAjax() {
		if (this instanceof Window) {
			// throw Error("こらー！newして使ってくださいね");
			return new JqueryAjax();
		}
		var self = this;
		self.get = function (params) {
			return $.ajax({
				async: true,
				cache: false,
				type: "GET",
				dataType: params.dataType || "json",
				url: params.url || "/",
				data: params.data || {},
				context: params.context || document,
				success: params.success || function (data) {
					console.debug(data);
				}
			});
		};
		self.post = function (params) {
			console.debug("ajax.post params:", params);
			var postData = params.data;
	
			var ajaxParams = {
				async: true,
				cache: false,
				type: "post",
				dataType: params.dataType || "json",
				url: params.url || "/",
				data: postData,
				context: params.context || document,
				success: params.success || function (data) {
					console.debug(data);
				},
				xhr: params.xhr || function () {
					var XHR = $.ajaxSettings.xhr();
					if (XHR.upload) {
						XHR.upload.addEventListener('progress', function (e) {
							var progre = parseInt(e.loaded / e.total * 10000) / 100;
							console.debug(progre + "%");
							$("#progress-bar").width(progre + "%");
						}, false);
					}
					return XHR;
				}
			};
	
			// FILEアップロードする場合
			if (params.file || params.files) {
	
				var formData = new FormData();
				if (params.data) {
					Object.keys(params.data).forEach(function (key) {
						formData.append(key, params.data[key]);
					});
				}
				if (params.file) {
					formData.append("file", params.file);
				}
				if (params.files) {
					Object.keys(params.files).forEach(function (key) {
						var file = params.files[key];
						formData.append("files[]", file);
					});
				}
	
				ajaxParams.data = formData;
				ajaxParams.contentType = false; // FormData使う場合、必須
				ajaxParams.processData = false; // FormData使う場合、必須
			}
			var ajax = $.ajax(ajaxParams);
			return ajax;
		};
		self.uploadSingle = function (file, params) {
			params.file = file;
			return self.post(params);
		};
		self.uploadMulti = function (files, params) {
			params.files = files;
			return self.post(params);
		};
	}

/***/ },
/* 6 */
/***/ function(module, exports) {

	"use strict";
	
	app.util = {};
	app.util.objectToHtml = function (obj) {
		var html = "";
		Object.keys(obj).forEach(function (key) {
			html += key + ": " + obj[key] + "<br>";
		});
		return html;
	};
	app.util.autoLink = function (str) {
		if (!str) return str;
		return str.replace(/((http|https|ftp):\/\/[\w?=&.\/-;#~%-]+(?![\w\s?&.\/;#~%"=-]*>))/g, '<a target="_blank" href="$1">$1</a> ');
	};

/***/ },
/* 7 */
/***/ function(module, exports) {

	"use strict";
	
	(function () {
		var itemsArea = document.querySelector(".items");
		var itemsMousetrap = new Mousetrap(itemsArea);
		var pressKey = null;
		// アイテムフォーカス移動系
		itemsMousetrap.bind('up', function (e) {
			pressKey = e.keyIdentifier;
			$(":focus").closest("li").prev().find("a").focus();
		});
		itemsMousetrap.bind('down', function (e) {
			pressKey = e.keyIdentifier;
			$(":focus").closest("li").next().find("a").focus();
		});
		itemsMousetrap.bind('right', function (e) {
			pressKey = e.keyIdentifier;
			$(":focus").closest("ul").next().find("li a").first().focus();
		});
		itemsMousetrap.bind('left', function (e) {
			pressKey = e.keyIdentifier;
			console.log("left e.keyIdentifier:", e.keyIdentifier);
	
			var item = $(":focus").closest("ul").prev().find("li[selected]");
			if (item.length) {
				// ルートアイテムじゃなければ
				item.find("a").focus();
				var url = item.find("a").attr("href");
				app.ItemDetail.loadContent(url);
			}
		});
		$(document).on("focus", ".items ul li a", function (e) {
			if (pressKey) {
				if (pressKey != "Left") {
					$(this).trigger("click");
				}
				pressKey = null;
			}
		});
		// アイテムフォーカス時DELキー
		itemsMousetrap.bind(['del', 'backspace'], function (e) {
			e.preventDefault();
			var id = $(e.target).attr("item_id");
			console.log(id);
			app.Item.delete(id);
		});
	})();
	
	Mousetrap.bind('tab', function (e) {
		e.preventDefault();
	
		if (app.ItemDetail.loadedItem) {
			// 詳細表示している場合
			var item_id = app.ItemDetail.loadedItem.id;
			$(".items ul .item[item_id=" + item_id + "] a").focus();
		} else {
			// アイテム初期表示状態でtab押した場合
			$(".items ul a").first().focus().trigger("click");
		}
	});

/***/ },
/* 8 */
/***/ function(module, exports, __webpack_require__) {

	"use strict";
	
	__webpack_require__(14);
	
	$(function () {
		var items = new app.Items();
		app.Items.setResizableAction();
		app.Items.setKeyPressAction();
	});
	
	void (function () {
		app.Items = Items;
		function Items() {
			var self = this;
			self.area = $(".items .inner");
			self.setContextMenuEvent();
	
			void (function setInitialState() {
				ajax.get({
					url: "/api/items",
					data: {
						parent_id: null
					},
					success: function success(data) {
						self.addRootItems(data);
					}
				});
			})();
		}
		Items.prototype.setContextMenuEvent = function () {
			// フォルダを右クリックした時
			$(document).on("contextmenu", ".items ul li.folder", function (e) {
				e.preventDefault();
				getSelection().removeAllRanges(); // 選択範囲をすべて解除
	
				var clickedItem = $(this);
				app.Item.add(clickedItem);
				return false;
			});
			// ULを右クリックした時
			$(document).on("contextmenu", ".items ul", function (e) {
				e.preventDefault();
				getSelection().removeAllRanges(); // 選択範囲をすべて解除
				var clickedItem = $(this).prev().find("li[selected]");
				app.Item.add(clickedItem);
			});
		};
		Items.prototype.addRootItems = function (items) {
			this.area.append(new app.ItemList(items));
		};
		Items.setResizableAction = function () {
			$(function () {
				$(".items .inner").resizable({
					handles: "s",
					stop: function stop(event, ui) {
						// リサイズ完了した時にクッキーに高さを保存
						var h = ui.size.height;
						$.cookie('.items-resized-height', h);
					},
					resize: function resize(event, ui) {
						var h = ui.size.height;
						$(".items").height(h);
					}
				});
				// クッキーに記憶した高さがあれば調整
				var savedHeight = $.cookie('.items-resized-height');
				if (savedHeight) {
					$(".items").height(savedHeight);
				}
			});
		};
		Items.setKeyPressAction = function () {};
	})();

/***/ },
/* 9 */
/***/ function(module, exports) {

	"use strict";
	
	void (function () {
		app.ItemList = ItemList;
		function ItemList(items) {
			return this.buildElement(items);
		}
		ItemList.prototype.buildElement = function (items) {
			var ul = $("<ul>");
			ul.attr("ul_id", $(".items ul").size());
			items.forEach(function (item) {
				var item = new app.Item(item);
				ul.append(item);
			});
			return ul;
		};
	})();

/***/ },
/* 10 */
/***/ function(module, exports) {

	"use strict";
	
	$(function () {
		app.Item.setClickEvent();
		app.Item.setRightClickEvent();
		app.Item.setDnDEvent();
	});
	void (function () {
		app.Item = Item;
		function Item(data) {
			var elem = this.buildElement(data);
			return elem;
		}
		Item.prototype.buildElement = function (data) {
			var name = data.name;
			var id = data.id;
			var type = data.type;
			var span = $("<span>");
			span.addClass("glyphicon").addClass("glyphicon-folder-close");
			var name_span = $("<span class=name>");
			name_span.text(name);
			span.append(name_span);
			var a = $("<a href=/api/item/" + id + " item_id=" + id + " draggable=false>");
			a.append(span);
			var li = $("<li item_id=" + id + " draggable=true>").addClass("item");
			if (type == "folder") {
				li.addClass("folder");
			}
			li.append(a);
			return li;
		};
		Item.add = function (parentItem) {
			var name = "";
			var parent_id = parentItem.attr("item_id");
			if (name = prompt("新規作成します", "新しいアイテム")) {
				ajax.post({
					url: "/api/item/add",
					data: {
						name: name,
						parent_id: parent_id
					},
					success: function success(new_item) {
						parentItem.find("a").trigger("click");
						console.log("ajax item/save data:", new_item);
					}
				});
			}
		};
	
		app.Item.setClickEvent = function () {
	
			$(document).on("click", ".item a", function (e) {
				e.preventDefault();
				var self = this;
				var clickedItem = $(self).closest("li");
				var clickedUl = $(self).closest("ul");
				var parentItemsArea = $(this).closest(".items");
	
				// コンテンツ読み込み
				var url = $(self).attr("href");
				app.ItemDetail.loadContent(url);
	
				// selectedアイテムにする
				// 他のアイテムはselectedを外す
				clickedUl.find(".item").removeAttr("selected");
				clickedItem.attr("selected", true);
	
				// アイテム背景色を調整
				void (function adjustBgColor() {
					$(this).closest("ul").find("a").css("background-color", "");
					$(this).css("background-color", "#cccccc");
				}).bind(this)();
	
				// 子アイテムを読み込み
				void (function loadChildItems() {
					if (!clickedItem.hasClass("folder")) {
						// クリックしたアイテムがフォルダじゃないなら何もしない
						return false;
					}
					ajax.get({
						url: "/api/items",
						data: {
							parent_id: $(self).attr("item_id")
						},
						success: function success(items) {
	
							// 自身のフォルダ配下のULを一度削除
							void (function destroyChildItem() {
								var selfUlId = clickedUl.attr("ul_id");
								var foundFlag = false;
								parentItemsArea.find("ul").each(function (i) {
									var eachUl = $(this);
									var eachUlId = eachUl.attr("ul_id");
									if (foundFlag) {
										eachUl.remove();
									}
									if (eachUlId == selfUlId) {
										foundFlag = true;
									}
								});
							})();
							// 読み込んだアイテムを追加
							$(".items .inner").append(new app.ItemList(items));
							// UL群の合計幅を.itemsにセット
							void (function setItemsWidth() {
								var width = 0;
								$(".items ul").each(function (ul) {
									width += $(this).outerWidth();
								});
								console.log("total width:", width);
								$(".items .inner").width(width + 20);
							})();
							// .itemsエリア内のスクロールを右に寄せる
							void (function () {
								$(".items").scrollLeft(999999);
							})();
						}
					});
				})();
			});
		};
	
		app.Item.setDnDEvent = function () {
			var drag_item_id = null;
			var drop_item_id = null;
	
			$(document).on("dragstart", ".items .item", function (e) {
				drag_item_id = $(this).attr("item_id");
				console.log("dragstart");
			});
			$(document).on("dragenter", ".items .item", function (e) {
				drop_item_id = $(this).attr("item_id");
				$(this).addClass("over");
				console.log("dragenter");
			});
			$(document).on("dragleave", ".items .item", function (e) {
				$(this).removeClass("over");
				console.log("dragleave");
			});
			$(document).on("dragend", ".items .item", function (e) {
	
				if (!drop_item_id) {
					console.log("dropしたitem_idがnull、return false");
					return false;
				}
				if (drag_item_id == drop_item_id) {
					console.log("同じIDの為、return false");
					return false;
				}
				(function () {
					var parent_id = drop_item_id;
					var id = drag_item_id;
					ajax.post({
						url: "/api/item/update",
						data: {
							id: id,
							parent_id: parent_id
						},
						success: (function (new_item) {
							$(".item[item_id=" + parent_id + "] a").trigger("click").focus();
							console.log("ajax item/updated_item:", new_item);
							$(this).remove();
						}).bind(this)
					});
				})();
				dragoverStyleReset();
				console.log("dragend");
			});
			function dragoverStyleReset() {
				console.log("dragoverStyleReset.");
				$(".items .item").removeClass("over");
			}
		};
	
		app.Item.setRightClickEvent = function () {};
		app.Item.delete = function (id) {
			ajax.post({
				url: "/api/item/delete",
				data: {
					id: id
				},
				success: function success(deletedCount) {
					// 削除する前にフォーカスを他のアイテムに移動させる
					var target = $(".item[item_id=" + id + "]");
					target.closest("ul").find("a")[0].focus();
					// アイテム削除
					target.remove();
					console.log("del item success.  count:", deletedCount);
				}
			});
		};
	})();

/***/ },
/* 11 */
/***/ function(module, exports, __webpack_require__) {

	"use strict";
	
	__webpack_require__(12);
	
	(function () {
		app.ItemDetail = ItemDetail;
	
		function ItemDetail() {}
	
		ItemDetail.loadedItem = null;
		var doLoadTimer = null;
		ItemDetail.loadContent = function (url) {
			if (doLoadTimer) {
				clearTimeout(doLoadTimer);
			}
			// 指定秒数待ってからリクエスト
			// アイテム移動を繰り返す場合、無駄なリクエストになるため
			doLoadTimer = setTimeout(function () {
				var detailArea = $(".detail");
				ajax.get({
					url: url,
					success: function success(item) {
						ItemDetail.loadedItem = item;
						detailArea.show();
						detailArea.find("h2").text(item.name);
						detailArea.find(".text").html(app.util.autoLink(item.text));
	
						var data = {};
						data.created_at = item.created_at;
						data.updated_at = item.updated_at;
						detailArea.find(".content").html(app.util.objectToHtml(data));
					}
				});
			}, 100);
		};
	
		$(document).on("click", ".content .name, .text", function () {
			$(this).attr("contenteditable", "true").focus();
			// console.log( "!" );
		});
		$(document).on("blur", ".content .name, .text", function () {
			$(this).attr("contenteditable", "false");
			var detailArea = $(".detail");
			ajax.post({
				url: "/api/item/update",
				data: {
					id: ItemDetail.loadedItem.id,
					name: detailArea.find("h2.name").text(),
					text: detailArea.find(".text").html()
				},
				success: function success(item) {
					console.log("/api/item/update item:", item);
				}
			});
		});
	})();

/***/ },
/* 12 */
/***/ function(module, exports) {

	// removed by extract-text-webpack-plugin

/***/ },
/* 13 */,
/* 14 */
/***/ function(module, exports) {

	// removed by extract-text-webpack-plugin

/***/ }
]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvd2ViL2FwcC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvd2ViL2Zvb3Rlci5zY3NzIiwid2VicGFjazovLy8uL3NyYy93ZWIvanF1ZXJ5X2FqYXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3dlYi9hcHAvdXRpbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvd2ViL2tleV9hY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3dlYi9pdGVtcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvd2ViL2l0ZW1fbGlzdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvd2ViL2l0ZW0uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3dlYi9pdGVtX2RldGFpbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvd2ViL2l0ZW1fZGV0YWlsLnNjc3MiLCJ3ZWJwYWNrOi8vLy4vc3JjL3dlYi9pdGVtcy5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLE1BQUssVUFBUyxlQUFlLEdBQUc7QUFDL0IscUJBQU8sQ0FBQyxDQUFlLENBQUMsQ0FBQztFQUN6QixHQUFFOztBQUVILE1BQUssVUFBUyxrQkFBa0IsQ0FBQyxPQUFPLEVBQUU7QUFDekMsU0FBTyxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUM7QUFDakIsU0FBTyxDQUFDLElBQUksR0FBRyxtQkFBTyxDQUFDLENBQWtCLENBQUM7RUFDMUMsRUFBQyxNQUFNLENBQUMsQ0FBQzs7QUFFVixNQUFLLFVBQVMsS0FBSyxHQUFHO0FBQ3JCLHFCQUFPLENBQUMsQ0FBZSxDQUFDO0FBQ3hCLHFCQUFPLENBQUMsQ0FBaUIsQ0FBQztBQUMxQixxQkFBTyxDQUFDLENBQVksQ0FBQztBQUNyQixxQkFBTyxDQUFDLENBQWdCLENBQUM7QUFDekIscUJBQU8sQ0FBQyxFQUFXLENBQUM7QUFDcEIscUJBQU8sQ0FBQyxFQUFrQixDQUFDO0VBQzNCLEdBQUUsQ0FBQzs7QUFFSixFQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxD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QUMsSUFBSSxDQUFDLGlCQUFpQixFQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQ3hDLE9BQUksVUFBVSxHQUFHLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUM5QixPQUFJLENBQUMsSUFBSSxDQUFDO0FBQ1QsT0FBRyxFQUFFLGtCQUFrQjtBQUN2QixRQUFJLEVBQUU7QUFDTCxPQUFFLEVBQUUsVUFBVSxDQUFDLFVBQVUsQ0FBQyxFQUFFO0FBQzVCLFNBQUksRUFBRSxVQUFVLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksRUFBRTtBQUN2QyxTQUFJLEVBQUUsVUFBVSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLEVBQUU7S0FDckM7QUFDRCxXQUFPLEVBQUUsaUJBQVMsSUFBSSxFQUFFO0FBQ3ZCLFlBQU8sQ0FBQyxHQUFHLENBQUUsd0JBQXdCLEVBQUUsSUFBSSxDQUFFLENBQUM7S0FDOUM7SUFDRCxDQUFDLENBQUM7R0FDSCxDQUFDLENBQUM7RUFDSCxHQUFHLEM7Ozs7OztBQ3RESiwwQzs7Ozs7OztBQ0FBLDBDIiwiZmlsZSI6ImphdmFzY3JpcHRzL21haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2b2lkIGZ1bmN0aW9uIGxvYWRMYXlvdXRTdHlsZSgpIHtcblx0cmVxdWlyZShcIi4vZm9vdGVyLnNjc3NcIik7XG59KClcblxudm9pZCBmdW5jdGlvbiBzZXRHbG9iYWxWYXJpYWJsZXMoZ2xvYmFscykge1xuXHRnbG9iYWxzLmFwcCA9IHt9O1xuXHRnbG9iYWxzLmFqYXggPSByZXF1aXJlKFwiLi9qcXVlcnlfYWpheC5qc1wiKVxufSh3aW5kb3cpO1xuXG52b2lkIGZ1bmN0aW9uIHN0YXJ0KCkge1xuXHRyZXF1aXJlKFwiLi9hcHAvdXRpbC5qc1wiKVxuXHRyZXF1aXJlKFwiLi9rZXlfYWN0aW9uLmpzXCIpXG5cdHJlcXVpcmUoXCIuL2l0ZW1zLmpzXCIpXG5cdHJlcXVpcmUoXCIuL2l0ZW1fbGlzdC5qc1wiKVxuXHRyZXF1aXJlKFwiLi9pdGVtLmpzXCIpXG5cdHJlcXVpcmUoXCIuL2l0ZW1fZGV0YWlsLmpzXCIpXG59KCk7XG5cbiQoZG9jdW1lbnQpLm9uKFwiZHJvcFwiLCBmdW5jdGlvbihlKSB7XG5cdGlmICggZS5wcmV2ZW50RGVmYXVsdCApIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdH1cblx0Y29uc29sZS5sb2coIFwiZHJvcFwiICk7XG59KTtcblxuJChkb2N1bWVudCkub24oXCJkcmFnb3ZlclwiLCBmdW5jdGlvbihlKSB7XG5cdGlmICggZS5wcmV2ZW50RGVmYXVsdCApIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdH1cblx0Y29uc29sZS5sb2coIFwiZHJhZ292ZXJcIik7XG59KTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL3dlYi9hcHAuanNcbiAqKi8iLCIvLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvd2ViL2Zvb3Rlci5zY3NzXG4gKiogbW9kdWxlIGlkID0gMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSBuZXcgSnF1ZXJ5QWpheDtcbmZ1bmN0aW9uIEpxdWVyeUFqYXgoKSB7XG5cdGlmICggdGhpcyBpbnN0YW5jZW9mIFdpbmRvdyApIHtcblx0XHQvLyB0aHJvdyBFcnJvcihcIuOBk+OCieODvO+8gW5ld+OBl+OBpuS9v+OBo+OBpuOBj+OBoOOBleOBhOOBrVwiKTtcblx0XHRyZXR1cm4gbmV3IEpxdWVyeUFqYXgoKTtcblx0fVxuXHR2YXIgc2VsZiA9IHRoaXM7XG5cdHNlbGYuZ2V0ID0gZnVuY3Rpb24ocGFyYW1zKSB7XG5cdFx0cmV0dXJuICQuYWpheCh7XG5cdFx0XHRhc3luYyAgICA6IHRydWUsXG5cdFx0XHRjYWNoZSAgICA6IGZhbHNlLFxuXHRcdFx0dHlwZSAgICAgOiBcIkdFVFwiLFxuXHRcdFx0ZGF0YVR5cGUgOiBwYXJhbXMuZGF0YVR5cGUgfHwgXCJqc29uXCIsXG5cdFx0XHR1cmwgICAgICA6IHBhcmFtcy51cmwgfHwgXCIvXCIsXG5cdFx0XHRkYXRhICAgICA6IHBhcmFtcy5kYXRhIHx8IHt9LFxuXHRcdFx0Y29udGV4dCAgOiBwYXJhbXMuY29udGV4dCB8fCBkb2N1bWVudCxcblx0XHRcdHN1Y2Nlc3MgIDogcGFyYW1zLnN1Y2Nlc3MgfHwgZnVuY3Rpb24oZGF0YSl7IGNvbnNvbGUuZGVidWcoIGRhdGEgKTsgfVxuXHRcdH0pO1xuXHR9XG5cdHNlbGYucG9zdCA9IGZ1bmN0aW9uKHBhcmFtcykge1xuXHRcdGNvbnNvbGUuZGVidWcoIFwiYWpheC5wb3N0IHBhcmFtczpcIiwgcGFyYW1zICk7XG5cdFx0dmFyIHBvc3REYXRhID0gcGFyYW1zLmRhdGE7XG5cdFx0XG5cdFx0dmFyIGFqYXhQYXJhbXMgPSB7XG5cdFx0XHRhc3luYyAgICA6IHRydWUsXG5cdFx0XHRjYWNoZSAgICA6IGZhbHNlLFxuXHRcdFx0dHlwZSAgICAgOiBcInBvc3RcIixcblx0XHRcdGRhdGFUeXBlIDogcGFyYW1zLmRhdGFUeXBlIHx8IFwianNvblwiLFxuXHRcdFx0dXJsICAgICAgOiBwYXJhbXMudXJsIHx8IFwiL1wiLFxuXHRcdFx0ZGF0YSAgICAgOiBwb3N0RGF0YSxcblx0XHRcdGNvbnRleHQgIDogcGFyYW1zLmNvbnRleHQgfHwgZG9jdW1lbnQsXG5cdFx0XHRzdWNjZXNzICA6IHBhcmFtcy5zdWNjZXNzIHx8IGZ1bmN0aW9uKGRhdGEpeyBjb25zb2xlLmRlYnVnKCBkYXRhICk7IH0sXG5cdFx0XHR4aHIgICAgICA6IHBhcmFtcy54aHIgfHwgZnVuY3Rpb24oKXtcblx0XHRcdFx0dmFyIFhIUiA9ICQuYWpheFNldHRpbmdzLnhocigpO1xuXHRcdFx0XHRpZiggWEhSLnVwbG9hZCApe1xuXHRcdFx0XHRcdFhIUi51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLGZ1bmN0aW9uKGUpe1xuXHRcdFx0XHRcdFx0dmFyIHByb2dyZSA9IHBhcnNlSW50KCBlLmxvYWRlZCAvIGUudG90YWwgKiAxMDAwMCApIC8gMTAwO1xuXHRcdFx0XHRcdFx0Y29uc29sZS5kZWJ1Zyhwcm9ncmUrXCIlXCIpO1xuXHRcdFx0XHRcdFx0JChcIiNwcm9ncmVzcy1iYXJcIikud2lkdGgocHJvZ3JlICsgXCIlXCIpO1xuXHRcdFx0XHRcdH0sIGZhbHNlKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gWEhSO1xuXHRcdFx0fVxuXHRcdH07XG5cdFx0XG5cdFx0Ly8gRklMReOCouODg+ODl+ODreODvOODieOBmeOCi+WgtOWQiFxuXHRcdGlmICggcGFyYW1zLmZpbGUgfHwgcGFyYW1zLmZpbGVzICkge1xuXHRcdFx0XG5cdFx0XHR2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcblx0XHRcdGlmICggcGFyYW1zLmRhdGEgKSB7XG5cdFx0XHRcdE9iamVjdC5rZXlzKHBhcmFtcy5kYXRhKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSl7XG5cdFx0XHRcdFx0Zm9ybURhdGEuYXBwZW5kKGtleSwgcGFyYW1zLmRhdGFba2V5XSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCBwYXJhbXMuZmlsZSApIHtcblx0XHRcdFx0Zm9ybURhdGEuYXBwZW5kKFwiZmlsZVwiLCBwYXJhbXMuZmlsZSk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIHBhcmFtcy5maWxlcyApIHtcblx0XHRcdFx0T2JqZWN0LmtleXMocGFyYW1zLmZpbGVzKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSl7XG5cdFx0XHRcdFx0dmFyIGZpbGUgPSBwYXJhbXMuZmlsZXNba2V5XTtcblx0XHRcdFx0XHRmb3JtRGF0YS5hcHBlbmQoXCJmaWxlc1tdXCIsIGZpbGUpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0YWpheFBhcmFtcy5kYXRhID0gZm9ybURhdGE7XG5cdFx0XHRhamF4UGFyYW1zLmNvbnRlbnRUeXBlID0gZmFsc2U7IC8vIEZvcm1EYXRh5L2/44GG5aC05ZCI44CB5b+F6aCIXG5cdFx0XHRhamF4UGFyYW1zLnByb2Nlc3NEYXRhID0gZmFsc2U7IC8vIEZvcm1EYXRh5L2/44GG5aC05ZCI44CB5b+F6aCIXG5cdFx0fVxuXHRcdHZhciBhamF4ID0gJC5hamF4KGFqYXhQYXJhbXMpO1xuXHRcdHJldHVybiBhamF4O1xuXHR9XG5cdHNlbGYudXBsb2FkU2luZ2xlID0gZnVuY3Rpb24oZmlsZSwgcGFyYW1zKSB7XG5cdFx0cGFyYW1zLmZpbGUgPSBmaWxlO1xuXHRcdHJldHVybiBzZWxmLnBvc3QocGFyYW1zKTtcblx0fVxuXHRzZWxmLnVwbG9hZE11bHRpID0gZnVuY3Rpb24oZmlsZXMsIHBhcmFtcykge1xuXHRcdHBhcmFtcy5maWxlcyA9IGZpbGVzO1xuXHRcdHJldHVybiBzZWxmLnBvc3QocGFyYW1zKTtcblx0fVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvd2ViL2pxdWVyeV9hamF4LmpzXG4gKiovIiwiYXBwLnV0aWwgPSB7fTtcbmFwcC51dGlsLm9iamVjdFRvSHRtbCA9IGZ1bmN0aW9uKG9iaikge1xuXHR2YXIgaHRtbCA9IFwiXCI7XG5cdE9iamVjdC5rZXlzKG9iaikuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcblx0XHRodG1sICs9IGtleSArIFwiOiBcIiArIG9ialtrZXldICsgXCI8YnI+XCI7XG5cdH0pO1xuXHRyZXR1cm4gaHRtbDtcbn1cbmFwcC51dGlsLmF1dG9MaW5rID0gZnVuY3Rpb24oc3RyKSB7XG5cdGlmICggISBzdHIgKSByZXR1cm4gc3RyO1xuXHRyZXR1cm4gc3RyLnJlcGxhY2UoLygoaHR0cHxodHRwc3xmdHApOlxcL1xcL1tcXHc/PSYuXFwvLTsjfiUtXSsoPyFbXFx3XFxzPyYuXFwvOyN+JVwiPS1dKj4pKS9nLCAnPGEgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cIiQxXCI+JDE8L2E+ICcpO1xufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvd2ViL2FwcC91dGlsLmpzXG4gKiovIiwiKGZ1bmN0aW9uKCkge1xuXHR2YXIgaXRlbXNBcmVhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5pdGVtc1wiKTtcblx0dmFyIGl0ZW1zTW91c2V0cmFwID0gbmV3IE1vdXNldHJhcChpdGVtc0FyZWEpO1xuXHR2YXIgcHJlc3NLZXkgPSBudWxsO1xuXHQvLyDjgqLjgqTjg4bjg6Djg5Xjgqnjg7zjgqvjgrnnp7vli5Xns7tcblx0aXRlbXNNb3VzZXRyYXAuYmluZCgndXAnLCBmdW5jdGlvbihlKSB7XG5cdFx0cHJlc3NLZXkgPSBlLmtleUlkZW50aWZpZXI7XG5cdFx0JChcIjpmb2N1c1wiKS5jbG9zZXN0KFwibGlcIikucHJldigpLmZpbmQoXCJhXCIpLmZvY3VzKCk7XG5cdH0pO1xuXHRpdGVtc01vdXNldHJhcC5iaW5kKCdkb3duJywgZnVuY3Rpb24oZSkge1xuXHRcdHByZXNzS2V5ID0gZS5rZXlJZGVudGlmaWVyO1xuXHRcdCQoXCI6Zm9jdXNcIikuY2xvc2VzdChcImxpXCIpLm5leHQoKS5maW5kKFwiYVwiKS5mb2N1cygpO1xuXHR9KTtcblx0aXRlbXNNb3VzZXRyYXAuYmluZCgncmlnaHQnLCBmdW5jdGlvbihlKSB7XG5cdFx0cHJlc3NLZXkgPSBlLmtleUlkZW50aWZpZXI7XG5cdFx0JChcIjpmb2N1c1wiKS5jbG9zZXN0KFwidWxcIikubmV4dCgpLmZpbmQoXCJsaSBhXCIpLmZpcnN0KCkuZm9jdXMoKTtcblx0fSk7XG5cdGl0ZW1zTW91c2V0cmFwLmJpbmQoJ2xlZnQnLCBmdW5jdGlvbihlKSB7XG5cdFx0cHJlc3NLZXkgPSBlLmtleUlkZW50aWZpZXI7XG5cdFx0Y29uc29sZS5sb2coIFwibGVmdCBlLmtleUlkZW50aWZpZXI6XCIsIGUua2V5SWRlbnRpZmllciApO1xuXHRcdFxuXHRcdHZhciBpdGVtID0gJChcIjpmb2N1c1wiKS5jbG9zZXN0KFwidWxcIikucHJldigpLmZpbmQoXCJsaVtzZWxlY3RlZF1cIik7XG5cdFx0aWYgKCBpdGVtLmxlbmd0aCApIHtcblx0XHRcdC8vIOODq+ODvOODiOOCouOCpOODhuODoOOBmOOCg+OBquOBkeOCjOOBsFxuXHRcdFx0aXRlbS5maW5kKFwiYVwiKS5mb2N1cygpO1xuXHRcdFx0dmFyIHVybCA9IGl0ZW0uZmluZChcImFcIikuYXR0cihcImhyZWZcIik7XG5cdFx0XHRhcHAuSXRlbURldGFpbC5sb2FkQ29udGVudCh1cmwpO1xuXHRcdH1cblx0fSk7XG5cdCQoZG9jdW1lbnQpLm9uKFwiZm9jdXNcIixcIi5pdGVtcyB1bCBsaSBhXCIsIGZ1bmN0aW9uKGUpIHtcblx0XHRpZiAoIHByZXNzS2V5ICkge1xuXHRcdFx0aWYgKCBwcmVzc0tleSAhPSBcIkxlZnRcIiApIHtcblx0XHRcdFx0JCh0aGlzKS50cmlnZ2VyKFwiY2xpY2tcIik7XG5cdFx0XHR9XG5cdFx0XHRwcmVzc0tleSA9IG51bGw7XG5cdFx0fVxuXHR9KTtcblx0Ly8g44Ki44Kk44OG44Og44OV44Kp44O844Kr44K55pmCREVM44Kt44O8XG5cdGl0ZW1zTW91c2V0cmFwLmJpbmQoWydkZWwnLCdiYWNrc3BhY2UnXSwgZnVuY3Rpb24oZSkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHR2YXIgaWQgPSAkKGUudGFyZ2V0KS5hdHRyKFwiaXRlbV9pZFwiKTtcblx0XHRjb25zb2xlLmxvZyggaWQgKTtcblx0XHRhcHAuSXRlbS5kZWxldGUoaWQpO1xuXHR9KTtcbn0pKCk7XG5cdFxuTW91c2V0cmFwLmJpbmQoJ3RhYicsIGZ1bmN0aW9uKGUpIHtcblx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcblx0aWYgKCBhcHAuSXRlbURldGFpbC5sb2FkZWRJdGVtICkge1xuXHRcdC8vIOips+e0sOihqOekuuOBl+OBpuOBhOOCi+WgtOWQiFxuXHRcdHZhciBpdGVtX2lkID0gYXBwLkl0ZW1EZXRhaWwubG9hZGVkSXRlbS5pZDtcblx0XHQkKFwiLml0ZW1zIHVsIC5pdGVtW2l0ZW1faWQ9XCIrIGl0ZW1faWQgK1wiXSBhXCIpLmZvY3VzKCk7XG5cdH0gZWxzZSB7XG5cdFx0Ly8g44Ki44Kk44OG44Og5Yid5pyf6KGo56S654q25oWL44GndGFi5oq844GX44Gf5aC05ZCIXG5cdFx0JChcIi5pdGVtcyB1bCBhXCIpLmZpcnN0KCkuZm9jdXMoKS50cmlnZ2VyKFwiY2xpY2tcIik7XG5cdH1cbn0pO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvd2ViL2tleV9hY3Rpb24uanNcbiAqKi8iLCJyZXF1aXJlKFwiLi9pdGVtcy5zY3NzXCIpO1xuXG4kKGZ1bmN0aW9uKCkge1xuXHR2YXIgaXRlbXMgPSBuZXcgYXBwLkl0ZW1zKCk7XG5cdGFwcC5JdGVtcy5zZXRSZXNpemFibGVBY3Rpb24oKTtcblx0YXBwLkl0ZW1zLnNldEtleVByZXNzQWN0aW9uKCk7XG59KTtcblxudm9pZCBmdW5jdGlvbigpIHtcblx0YXBwLkl0ZW1zID0gSXRlbXM7XG5cdGZ1bmN0aW9uIEl0ZW1zKCkge1xuXHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRzZWxmLmFyZWEgPSAkKFwiLml0ZW1zIC5pbm5lclwiKTtcblx0XHRzZWxmLnNldENvbnRleHRNZW51RXZlbnQoKTtcblx0XHRcblx0XHR2b2lkIGZ1bmN0aW9uIHNldEluaXRpYWxTdGF0ZSgpIHtcblx0XHRcdGFqYXguZ2V0KHtcblx0XHRcdFx0dXJsOiBcIi9hcGkvaXRlbXNcIixcblx0XHRcdFx0ZGF0YToge1xuXHRcdFx0XHRcdHBhcmVudF9pZDogbnVsbCxcblx0XHRcdFx0fSxcblx0XHRcdFx0c3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuXHRcdFx0XHRcdHNlbGYuYWRkUm9vdEl0ZW1zKGRhdGEpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9KCk7XG5cdH1cblx0SXRlbXMucHJvdG90eXBlLnNldENvbnRleHRNZW51RXZlbnQgPSBmdW5jdGlvbigpIHtcblx0XHQvLyDjg5Xjgqnjg6vjg4DjgpLlj7Pjgq/jg6rjg4Pjgq/jgZfjgZ/mmYJcblx0XHQkKGRvY3VtZW50KS5vbihcImNvbnRleHRtZW51XCIsIFwiLml0ZW1zIHVsIGxpLmZvbGRlclwiLCBmdW5jdGlvbihlKSB7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRnZXRTZWxlY3Rpb24oKS5yZW1vdmVBbGxSYW5nZXMoKTsgLy8g6YG45oqe56+E5Zuy44KS44GZ44G544Gm6Kej6ZmkXG5cdFx0XHRcblx0XHRcdHZhciBjbGlja2VkSXRlbSA9ICQodGhpcyk7XG5cdFx0XHRhcHAuSXRlbS5hZGQoY2xpY2tlZEl0ZW0pO1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH0pO1xuXHRcdC8vIFVM44KS5Y+z44Kv44Oq44OD44Kv44GX44Gf5pmCXG5cdFx0JChkb2N1bWVudCkub24oXCJjb250ZXh0bWVudVwiLCBcIi5pdGVtcyB1bFwiLCBmdW5jdGlvbihlKSB7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRnZXRTZWxlY3Rpb24oKS5yZW1vdmVBbGxSYW5nZXMoKTsgLy8g6YG45oqe56+E5Zuy44KS44GZ44G544Gm6Kej6ZmkXG5cdFx0XHR2YXIgY2xpY2tlZEl0ZW0gPSAkKHRoaXMpLnByZXYoKS5maW5kKFwibGlbc2VsZWN0ZWRdXCIpO1xuXHRcdFx0YXBwLkl0ZW0uYWRkKGNsaWNrZWRJdGVtKTtcblx0XHR9KTtcblx0fVxuXHRJdGVtcy5wcm90b3R5cGUuYWRkUm9vdEl0ZW1zID0gZnVuY3Rpb24oaXRlbXMpIHtcblx0XHR0aGlzLmFyZWEuYXBwZW5kKG5ldyBhcHAuSXRlbUxpc3QoaXRlbXMpKTtcblx0fVxuXHRJdGVtcy5zZXRSZXNpemFibGVBY3Rpb24gPSBmdW5jdGlvbigpIHtcblx0XHQkKGZ1bmN0aW9uKCkge1xuXHRcdFx0JChcIi5pdGVtcyAuaW5uZXJcIikucmVzaXphYmxlKHtcblx0XHRcdFx0aGFuZGxlczogXCJzXCIsXG5cdFx0XHRcdHN0b3A6IGZ1bmN0aW9uKCBldmVudCwgdWkgKSB7XG5cdFx0XHRcdFx0Ly8g44Oq44K144Kk44K65a6M5LqG44GX44Gf5pmC44Gr44Kv44OD44Kt44O844Gr6auY44GV44KS5L+d5a2YXG5cdFx0XHRcdFx0dmFyIGggPSB1aS5zaXplLmhlaWdodDtcblx0XHRcdFx0XHQkLmNvb2tpZSgnLml0ZW1zLXJlc2l6ZWQtaGVpZ2h0JywgaCk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHJlc2l6ZTogZnVuY3Rpb24oIGV2ZW50LCB1aSApIHtcblx0XHRcdFx0XHR2YXIgaCA9IHVpLnNpemUuaGVpZ2h0O1xuXHRcdFx0XHRcdCQoXCIuaXRlbXNcIikuaGVpZ2h0KGgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdC8vIOOCr+ODg+OCreODvOOBq+iomOaGtuOBl+OBn+mrmOOBleOBjOOBguOCjOOBsOiqv+aVtFxuXHRcdFx0dmFyIHNhdmVkSGVpZ2h0ID0gJC5jb29raWUoJy5pdGVtcy1yZXNpemVkLWhlaWdodCcpO1xuXHRcdFx0aWYgKCBzYXZlZEhlaWdodCApIHtcblx0XHRcdFx0JChcIi5pdGVtc1wiKS5oZWlnaHQoc2F2ZWRIZWlnaHQpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cdEl0ZW1zLnNldEtleVByZXNzQWN0aW9uID0gZnVuY3Rpb24oKSB7XG5cdFx0XG5cdH1cbn0oKTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL3dlYi9pdGVtcy5qc1xuICoqLyIsInZvaWQgZnVuY3Rpb24oKSB7XG5cdGFwcC5JdGVtTGlzdCA9IEl0ZW1MaXN0O1xuXHRmdW5jdGlvbiBJdGVtTGlzdChpdGVtcykge1xuXHRcdHJldHVybiB0aGlzLmJ1aWxkRWxlbWVudChpdGVtcyk7XG5cdH1cblx0SXRlbUxpc3QucHJvdG90eXBlLmJ1aWxkRWxlbWVudCA9IGZ1bmN0aW9uKGl0ZW1zKSB7XG5cdFx0dmFyIHVsID0gJChcIjx1bD5cIik7XG5cdFx0dWwuYXR0cihcInVsX2lkXCIsICQoXCIuaXRlbXMgdWxcIikuc2l6ZSgpICk7XG5cdFx0aXRlbXMuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG5cdFx0XHR2YXIgaXRlbSA9IG5ldyBhcHAuSXRlbShpdGVtKTtcblx0XHRcdHVsLmFwcGVuZChpdGVtKTtcblx0XHR9KTtcblx0XHRyZXR1cm4gdWw7XG5cdH1cbn0oKTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL3dlYi9pdGVtX2xpc3QuanNcbiAqKi8iLCIkKGZ1bmN0aW9uKCkge1xuXHRhcHAuSXRlbS5zZXRDbGlja0V2ZW50KCk7XG5cdGFwcC5JdGVtLnNldFJpZ2h0Q2xpY2tFdmVudCgpO1xuXHRhcHAuSXRlbS5zZXREbkRFdmVudCgpO1xufSk7XG52b2lkIGZ1bmN0aW9uKCkge1xuXHRhcHAuSXRlbSA9IEl0ZW07XG5cdGZ1bmN0aW9uIEl0ZW0oZGF0YSkge1xuXHRcdHZhciBlbGVtID0gdGhpcy5idWlsZEVsZW1lbnQoZGF0YSk7XG5cdFx0cmV0dXJuIGVsZW07XG5cdH1cblx0SXRlbS5wcm90b3R5cGUuYnVpbGRFbGVtZW50ID0gZnVuY3Rpb24oZGF0YSkge1xuXHRcdHZhciBuYW1lID0gZGF0YS5uYW1lO1xuXHRcdHZhciBpZCA9IGRhdGEuaWQ7XG5cdFx0dmFyIHR5cGUgPSBkYXRhLnR5cGU7XG5cdFx0dmFyIHNwYW4gPSAkKFwiPHNwYW4+XCIpO1xuXHRcdHNwYW4uYWRkQ2xhc3MoXCJnbHlwaGljb25cIikuYWRkQ2xhc3MoXCJnbHlwaGljb24tZm9sZGVyLWNsb3NlXCIpO1xuXHRcdHZhciBuYW1lX3NwYW4gPSAkKFwiPHNwYW4gY2xhc3M9bmFtZT5cIik7XG5cdFx0bmFtZV9zcGFuLnRleHQobmFtZSk7XG5cdFx0c3Bhbi5hcHBlbmQobmFtZV9zcGFuKTtcblx0XHR2YXIgYSA9ICQoXCI8YSBocmVmPS9hcGkvaXRlbS9cIiArIGlkICsgXCIgaXRlbV9pZD1cIiArIGlkICsgXCIgZHJhZ2dhYmxlPWZhbHNlPlwiKTtcblx0XHRhLmFwcGVuZChzcGFuKTtcblx0XHR2YXIgbGkgPSAkKFwiPGxpIGl0ZW1faWQ9XCIrIGlkICtcIiBkcmFnZ2FibGU9dHJ1ZT5cIikuYWRkQ2xhc3MoXCJpdGVtXCIpO1xuXHRcdGlmICggdHlwZSA9PSBcImZvbGRlclwiICkge1xuXHRcdFx0bGkuYWRkQ2xhc3MoXCJmb2xkZXJcIik7XG5cdFx0fVxuXHRcdGxpLmFwcGVuZChhKTtcblx0XHRyZXR1cm4gbGk7XG5cdH1cblx0SXRlbS5hZGQgPSBmdW5jdGlvbihwYXJlbnRJdGVtKSB7XG5cdFx0dmFyIG5hbWUgPSBcIlwiO1xuXHRcdHZhciBwYXJlbnRfaWQgPSBwYXJlbnRJdGVtLmF0dHIoXCJpdGVtX2lkXCIpO1xuXHRcdGlmICggbmFtZSA9IHByb21wdChcIuaWsOimj+S9nOaIkOOBl+OBvuOBmVwiLCBcIuaWsOOBl+OBhOOCouOCpOODhuODoFwiKSApIHtcblx0XHRcdGFqYXgucG9zdCh7XG5cdFx0XHRcdHVybDogXCIvYXBpL2l0ZW0vYWRkXCIsXG5cdFx0XHRcdGRhdGE6IHtcblx0XHRcdFx0XHRuYW1lOiBuYW1lLFxuXHRcdFx0XHRcdHBhcmVudF9pZDogcGFyZW50X2lkXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uKG5ld19pdGVtKSB7XG5cdFx0XHRcdFx0cGFyZW50SXRlbS5maW5kKFwiYVwiKS50cmlnZ2VyKFwiY2xpY2tcIik7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coIFwiYWpheCBpdGVtL3NhdmUgZGF0YTpcIiwgbmV3X2l0ZW0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9O1xuXHRcblx0YXBwLkl0ZW0uc2V0Q2xpY2tFdmVudCA9IGZ1bmN0aW9uKCkge1xuXHRcdFxuXHRcdCQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgXCIuaXRlbSBhXCIsIGZ1bmN0aW9uKGUpIHtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdHZhciBjbGlja2VkSXRlbSA9ICQoc2VsZikuY2xvc2VzdChcImxpXCIpO1xuXHRcdFx0dmFyIGNsaWNrZWRVbCA9ICQoc2VsZikuY2xvc2VzdChcInVsXCIpO1xuXHRcdFx0dmFyIHBhcmVudEl0ZW1zQXJlYSA9ICQodGhpcykuY2xvc2VzdChcIi5pdGVtc1wiKTtcblx0XHRcdFxuXHRcdFx0Ly8g44Kz44Oz44OG44Oz44OE6Kqt44G/6L6844G/XG5cdFx0XHR2YXIgdXJsID0gJChzZWxmKS5hdHRyKFwiaHJlZlwiKTtcblx0XHRcdGFwcC5JdGVtRGV0YWlsLmxvYWRDb250ZW50KHVybCk7XG5cdFx0XHRcblx0XHRcdC8vIHNlbGVjdGVk44Ki44Kk44OG44Og44Gr44GZ44KLXG5cdFx0XHQvLyDku5bjga7jgqLjgqTjg4bjg6Djga9zZWxlY3RlZOOCkuWkluOBmVxuXHRcdFx0Y2xpY2tlZFVsLmZpbmQoXCIuaXRlbVwiKS5yZW1vdmVBdHRyKFwic2VsZWN0ZWRcIik7XG5cdFx0XHRjbGlja2VkSXRlbS5hdHRyKFwic2VsZWN0ZWRcIiwgdHJ1ZSk7XG5cdFx0XHRcblx0XHRcdC8vIOOCouOCpOODhuODoOiDjOaZr+iJsuOCkuiqv+aVtFxuXHRcdFx0dm9pZCBmdW5jdGlvbiBhZGp1c3RCZ0NvbG9yKCkge1xuXHRcdFx0XHQkKHRoaXMpLmNsb3Nlc3QoXCJ1bFwiKS5maW5kKFwiYVwiKS5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIsIFwiXCIpO1xuXHRcdFx0XHQkKHRoaXMpLmNzcyhcImJhY2tncm91bmQtY29sb3JcIixcIiNjY2NjY2NcIik7XG5cdFx0XHR9LmJpbmQodGhpcykoKTtcblx0XHRcdFxuXHRcdFx0Ly8g5a2Q44Ki44Kk44OG44Og44KS6Kqt44G/6L6844G/XG5cdFx0XHR2b2lkIGZ1bmN0aW9uIGxvYWRDaGlsZEl0ZW1zKCkge1xuXHRcdFx0XHRpZiAoICEgY2xpY2tlZEl0ZW0uaGFzQ2xhc3MoXCJmb2xkZXJcIikgKSB7XG5cdFx0XHRcdFx0Ly8g44Kv44Oq44OD44Kv44GX44Gf44Ki44Kk44OG44Og44GM44OV44Kp44Or44OA44GY44KD44Gq44GE44Gq44KJ5L2V44KC44GX44Gq44GEXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGFqYXguZ2V0KHtcblx0XHRcdFx0XHR1cmw6IFwiL2FwaS9pdGVtc1wiLFxuXHRcdFx0XHRcdGRhdGE6IHtcblx0XHRcdFx0XHRcdHBhcmVudF9pZDogJChzZWxmKS5hdHRyKFwiaXRlbV9pZFwiKVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0c3VjY2VzczogZnVuY3Rpb24oaXRlbXMpIHtcblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0Ly8g6Ieq6Lqr44Gu44OV44Kp44Or44OA6YWN5LiL44GuVUzjgpLkuIDluqbliYrpmaRcblx0XHRcdFx0XHRcdHZvaWQgZnVuY3Rpb24gZGVzdHJveUNoaWxkSXRlbSgpIHtcblx0XHRcdFx0XHRcdFx0dmFyIHNlbGZVbElkID0gY2xpY2tlZFVsLmF0dHIoXCJ1bF9pZFwiKTtcblx0XHRcdFx0XHRcdFx0dmFyIGZvdW5kRmxhZyA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0XHRwYXJlbnRJdGVtc0FyZWEuZmluZChcInVsXCIpLmVhY2goZnVuY3Rpb24oaSkge1xuXHRcdFx0XHRcdFx0XHRcdHZhciBlYWNoVWwgPSAkKHRoaXMpO1xuXHRcdFx0XHRcdFx0XHRcdHZhciBlYWNoVWxJZCA9IGVhY2hVbC5hdHRyKFwidWxfaWRcIik7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBmb3VuZEZsYWcgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRlYWNoVWwucmVtb3ZlKCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdGlmICggZWFjaFVsSWQgPT0gc2VsZlVsSWQgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRmb3VuZEZsYWcgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR9KCk7XG5cdFx0XHRcdFx0XHQvLyDoqq3jgb/ovrzjgpPjgaDjgqLjgqTjg4bjg6DjgpLov73liqBcblx0XHRcdFx0XHRcdCQoXCIuaXRlbXMgLmlubmVyXCIpLmFwcGVuZChuZXcgYXBwLkl0ZW1MaXN0KGl0ZW1zKSk7XG5cdFx0XHRcdFx0XHQvLyBVTOe+pOOBruWQiOioiOW5heOCki5pdGVtc+OBq+OCu+ODg+ODiFxuXHRcdFx0XHRcdFx0dm9pZCBmdW5jdGlvbiBzZXRJdGVtc1dpZHRoKCkge1xuXHRcdFx0XHRcdFx0XHR2YXIgd2lkdGggPSAwO1xuXHRcdFx0XHRcdFx0XHQkKFwiLml0ZW1zIHVsXCIpLmVhY2goZnVuY3Rpb24odWwpIHtcblx0XHRcdFx0XHRcdFx0XHR3aWR0aCArPSAkKHRoaXMpLm91dGVyV2lkdGgoKTtcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCBcInRvdGFsIHdpZHRoOlwiLCB3aWR0aCApO1xuXHRcdFx0XHRcdFx0XHQkKFwiLml0ZW1zIC5pbm5lclwiKS53aWR0aCh3aWR0aCsyMCk7XG5cdFx0XHRcdFx0XHR9KCk7XG5cdFx0XHRcdFx0XHQvLyAuaXRlbXPjgqjjg6rjgqLlhoXjga7jgrnjgq/jg63jg7zjg6vjgpLlj7Pjgavlr4TjgZvjgotcblx0XHRcdFx0XHRcdHZvaWQgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdCQoXCIuaXRlbXNcIikuc2Nyb2xsTGVmdCg5OTk5OTkpO1xuXHRcdFx0XHRcdFx0fSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9KCk7XG5cdFx0fSk7XG5cdH1cblxuXHRhcHAuSXRlbS5zZXREbkRFdmVudCA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBkcmFnX2l0ZW1faWQgPSBudWxsO1xuXHRcdHZhciBkcm9wX2l0ZW1faWQgPSBudWxsO1xuXHRcdFxuXHRcdCQoZG9jdW1lbnQpLm9uKFwiZHJhZ3N0YXJ0XCIsIFwiLml0ZW1zIC5pdGVtXCIsIGZ1bmN0aW9uKGUpIHtcblx0XHRcdGRyYWdfaXRlbV9pZCA9ICQodGhpcykuYXR0cihcIml0ZW1faWRcIik7XG5cdFx0XHRjb25zb2xlLmxvZyggXCJkcmFnc3RhcnRcIiApO1xuXHRcdH0pO1xuXHRcdCQoZG9jdW1lbnQpLm9uKFwiZHJhZ2VudGVyXCIsIFwiLml0ZW1zIC5pdGVtXCIsIGZ1bmN0aW9uKGUpIHtcblx0XHRcdGRyb3BfaXRlbV9pZCA9ICQodGhpcykuYXR0cihcIml0ZW1faWRcIik7XG5cdFx0XHQkKHRoaXMpLmFkZENsYXNzKFwib3ZlclwiKTtcblx0XHRcdGNvbnNvbGUubG9nKCBcImRyYWdlbnRlclwiICk7XG5cdFx0fSk7XG5cdFx0JChkb2N1bWVudCkub24oXCJkcmFnbGVhdmVcIiwgXCIuaXRlbXMgLml0ZW1cIiwgZnVuY3Rpb24oZSkge1xuXHRcdFx0JCh0aGlzKS5yZW1vdmVDbGFzcyhcIm92ZXJcIik7XG5cdFx0XHRjb25zb2xlLmxvZyggXCJkcmFnbGVhdmVcIiApO1xuXHRcdH0pO1xuXHRcdCQoZG9jdW1lbnQpLm9uKFwiZHJhZ2VuZFwiLCBcIi5pdGVtcyAuaXRlbVwiLCBmdW5jdGlvbihlKSB7XG5cdFx0XHRcblx0XHRcdGlmICggISBkcm9wX2l0ZW1faWQgKSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCBcImRyb3DjgZfjgZ9pdGVtX2lk44GMbnVsbOOAgXJldHVybiBmYWxzZVwiICk7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHRcdGlmICggZHJhZ19pdGVtX2lkID09IGRyb3BfaXRlbV9pZCApIHtcblx0XHRcdFx0Y29uc29sZS5sb2coIFwi5ZCM44GYSUTjga7ngrrjgIFyZXR1cm4gZmFsc2VcIiApO1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0XHQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBwYXJlbnRfaWQgPSBkcm9wX2l0ZW1faWQ7XG5cdFx0XHRcdHZhciBpZCA9IGRyYWdfaXRlbV9pZDtcblx0XHRcdFx0YWpheC5wb3N0KHtcblx0XHRcdFx0XHR1cmw6IFwiL2FwaS9pdGVtL3VwZGF0ZVwiLFxuXHRcdFx0XHRcdGRhdGE6IHtcblx0XHRcdFx0XHRcdGlkOiBpZCxcblx0XHRcdFx0XHRcdHBhcmVudF9pZDogcGFyZW50X2lkXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRzdWNjZXNzOiBmdW5jdGlvbihuZXdfaXRlbSkge1xuXHRcdFx0XHRcdFx0JChcIi5pdGVtW2l0ZW1faWQ9XCIrIHBhcmVudF9pZCArXCJdIGFcIikudHJpZ2dlcihcImNsaWNrXCIpLmZvY3VzKCk7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyggXCJhamF4IGl0ZW0vdXBkYXRlZF9pdGVtOlwiLCBuZXdfaXRlbSApO1xuXHRcdFx0XHRcdFx0JCh0aGlzKS5yZW1vdmUoKTtcblx0XHRcdFx0XHR9LmJpbmQodGhpcylcblx0XHRcdFx0fSk7XG5cdFx0XHR9KSgpO1xuXHRcdFx0ZHJhZ292ZXJTdHlsZVJlc2V0KCk7XG5cdFx0XHRjb25zb2xlLmxvZyggXCJkcmFnZW5kXCIgKTtcblx0XHR9KTtcblx0XHRmdW5jdGlvbiBkcmFnb3ZlclN0eWxlUmVzZXQoKSB7XG5cdFx0XHRjb25zb2xlLmxvZyhcImRyYWdvdmVyU3R5bGVSZXNldC5cIik7XG5cdFx0XHQkKFwiLml0ZW1zIC5pdGVtXCIpLnJlbW92ZUNsYXNzKFwib3ZlclwiKTtcblx0XHR9XG5cdH1cblx0XG5cdGFwcC5JdGVtLnNldFJpZ2h0Q2xpY2tFdmVudCA9IGZ1bmN0aW9uKCkge1xuXHRcdFxuXHR9XG5cdGFwcC5JdGVtLmRlbGV0ZSA9IGZ1bmN0aW9uKGlkKSB7XG5cdFx0YWpheC5wb3N0KHtcblx0XHRcdHVybDogXCIvYXBpL2l0ZW0vZGVsZXRlXCIsXG5cdFx0XHRkYXRhOiB7XG5cdFx0XHRcdGlkOiBpZCxcblx0XHRcdH0sXG5cdFx0XHRzdWNjZXNzOiBmdW5jdGlvbihkZWxldGVkQ291bnQpIHtcblx0XHRcdFx0Ly8g5YmK6Zmk44GZ44KL5YmN44Gr44OV44Kp44O844Kr44K544KS5LuW44Gu44Ki44Kk44OG44Og44Gr56e75YuV44GV44Gb44KLXG5cdFx0XHRcdHZhciB0YXJnZXQgPSAkKFwiLml0ZW1baXRlbV9pZD1cIitpZCtcIl1cIik7XG5cdFx0XHRcdHRhcmdldC5jbG9zZXN0KFwidWxcIikuZmluZChcImFcIilbMF0uZm9jdXMoKTtcblx0XHRcdFx0Ly8g44Ki44Kk44OG44Og5YmK6ZmkXG5cdFx0XHRcdHRhcmdldC5yZW1vdmUoKTtcblx0XHRcdFx0Y29uc29sZS5sb2coIFwiZGVsIGl0ZW0gc3VjY2Vzcy4gIGNvdW50OlwiLCBkZWxldGVkQ291bnQgKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXHRcbn0oKTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL3dlYi9pdGVtLmpzXG4gKiovIiwicmVxdWlyZShcIi4vaXRlbV9kZXRhaWwuc2Nzc1wiKTtcblxuKGZ1bmN0aW9uKCkge1xuXHRhcHAuSXRlbURldGFpbCA9IEl0ZW1EZXRhaWw7XG5cdFxuXHRmdW5jdGlvbiBJdGVtRGV0YWlsKCkge1xuXHR9XG5cdFxuXHRJdGVtRGV0YWlsLmxvYWRlZEl0ZW0gPSBudWxsO1xuXHR2YXIgZG9Mb2FkVGltZXIgPSBudWxsO1xuXHRJdGVtRGV0YWlsLmxvYWRDb250ZW50ID0gZnVuY3Rpb24odXJsKSB7XG5cdFx0aWYgKCBkb0xvYWRUaW1lciApIHtcblx0XHRcdGNsZWFyVGltZW91dChkb0xvYWRUaW1lcik7XG5cdFx0fVxuXHRcdC8vIOaMh+WumuenkuaVsOW+heOBo+OBpuOBi+OCieODquOCr+OCqOOCueODiFxuXHRcdC8vIOOCouOCpOODhuODoOenu+WLleOCkue5sOOCiui/lOOBmeWgtOWQiOOAgeeEoemnhOOBquODquOCr+OCqOOCueODiOOBq+OBquOCi+OBn+OCgVxuXHRcdGRvTG9hZFRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdHZhciBkZXRhaWxBcmVhID0gJChcIi5kZXRhaWxcIik7XG5cdFx0XHRhamF4LmdldCh7XG5cdFx0XHRcdHVybDogdXJsLFxuXHRcdFx0XHRzdWNjZXNzOiBmdW5jdGlvbihpdGVtKSB7XG5cdFx0XHRcdFx0SXRlbURldGFpbC5sb2FkZWRJdGVtID0gaXRlbTtcblx0XHRcdFx0XHRkZXRhaWxBcmVhLnNob3coKTtcblx0XHRcdFx0XHRkZXRhaWxBcmVhLmZpbmQoXCJoMlwiKS50ZXh0KGl0ZW0ubmFtZSk7XG5cdFx0XHRcdFx0ZGV0YWlsQXJlYS5maW5kKFwiLnRleHRcIikuaHRtbCggYXBwLnV0aWwuYXV0b0xpbmsoaXRlbS50ZXh0KSApO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdHZhciBkYXRhID0ge307XG5cdFx0XHRcdFx0ZGF0YS5jcmVhdGVkX2F0ID0gaXRlbS5jcmVhdGVkX2F0O1xuXHRcdFx0XHRcdGRhdGEudXBkYXRlZF9hdCA9IGl0ZW0udXBkYXRlZF9hdDtcblx0XHRcdFx0XHRkZXRhaWxBcmVhLmZpbmQoXCIuY29udGVudFwiKS5odG1sKCBhcHAudXRpbC5vYmplY3RUb0h0bWwoZGF0YSkgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSwgMTAwKTtcblx0fVxuXHRcblx0JChkb2N1bWVudCkub24oXCJjbGlja1wiLCBcIi5jb250ZW50IC5uYW1lLCAudGV4dFwiLCBmdW5jdGlvbigpIHtcblx0XHQkKHRoaXMpLmF0dHIoXCJjb250ZW50ZWRpdGFibGVcIixcInRydWVcIikuZm9jdXMoKTtcblx0XHQvLyBjb25zb2xlLmxvZyggXCIhXCIgKTtcblx0fSk7XG5cdCQoZG9jdW1lbnQpLm9uKFwiYmx1clwiLCBcIi5jb250ZW50IC5uYW1lLCAudGV4dFwiLCBmdW5jdGlvbigpIHtcblx0XHQkKHRoaXMpLmF0dHIoXCJjb250ZW50ZWRpdGFibGVcIixcImZhbHNlXCIpO1xuXHRcdHZhciBkZXRhaWxBcmVhID0gJChcIi5kZXRhaWxcIik7XG5cdFx0YWpheC5wb3N0KHtcblx0XHRcdHVybDogXCIvYXBpL2l0ZW0vdXBkYXRlXCIsXG5cdFx0XHRkYXRhOiB7XG5cdFx0XHRcdGlkOiBJdGVtRGV0YWlsLmxvYWRlZEl0ZW0uaWQsXG5cdFx0XHRcdG5hbWU6IGRldGFpbEFyZWEuZmluZChcImgyLm5hbWVcIikudGV4dCgpLFxuXHRcdFx0XHR0ZXh0OiBkZXRhaWxBcmVhLmZpbmQoXCIudGV4dFwiKS5odG1sKClcblx0XHRcdH0sXG5cdFx0XHRzdWNjZXNzOiBmdW5jdGlvbihpdGVtKSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCBcIi9hcGkvaXRlbS91cGRhdGUgaXRlbTpcIiwgaXRlbSApO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9KTtcbn0pKCk7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy93ZWIvaXRlbV9kZXRhaWwuanNcbiAqKi8iLCIvLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvd2ViL2l0ZW1fZGV0YWlsLnNjc3NcbiAqKiBtb2R1bGUgaWQgPSAxMlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vc3JjL3dlYi9pdGVtcy5zY3NzXG4gKiogbW9kdWxlIGlkID0gMTRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=